{"version":3,"sources":["webpack:///./src/components/layout.js","webpack:///./src/components/ContentSection/index.jsx","webpack:///./src/components/StorySection/index.jsx","webpack:///./src/components/StoryGraph/shared.js","webpack:///./src/components/StoryGraph/StoryGraph.jsx","webpack:///./src/components/StoryGraph/scene1.js","webpack:///./src/components/StoryGraph/graphData.js","webpack:///./src/components/StoryGraph/scene2.js","webpack:///./src/components/StoryGraph/scene3.js","webpack:///./src/components/sections.js","webpack:///./src/pages/index.js"],"names":["components_layout","Object","index_es","e","_ref","children","intl","data","bodyClass","react_default","a","createElement","Helmet_default","title","formatMessage","id","meta","name","content","bodyAttributes","class","href","rel","className","emptyFn","components_ContentSection","props","images","onEnter","onExit","es","key","b","map","image","src","StorySection_emptyFn","components_StorySection","scaleAvatar","Math","sqrt","cx","cy","scalePercent","AvatarWidth","AvatarHeight","drawCharacterBezier","chars","char1","fromSide","char2","toSide","strength","x1","y1","x2","y2","char","scale","Cx1","Cy1","Cx2","Cy2","abs","components_StoryGraph_StoryGraph","d3","d","duration","ease","StoryGraph","_this","_React$Component","call","this","updateGraph","graphData","characters","c","selectAll","transition","attr","opacity","style","character","enter","append","color","imageX","imageY","imageWidth","imageHeight","text","exit","remove","arrows","fromCharacter","toCharacter","state","componentDidMount","componentDidUpdate","render","classnames_default","xmlns","xmlns-xlink","viewBox","r","t","Component","scene1","defaultMessage","tagName","gender","scene2","scene3","sections","extra","pages_IndexPage","IndexPage","onEnterViewport","history","replaceState","undefined","setState","inViewport","onExitViewport","onEnterEnd","end","onExitEnd","_this2","_this$state","section","fixed","lastIndexOf","scroll-below","__webpack_exports__","default","i18n"],"mappings":"0LAqCAA,wBAAeC,OAAAC,EAAAC,EAAAF,CA3BA,SAAAG,GAAA,IACbC,EADaD,EACbC,SAAgBC,GADHF,EACHG,KADGH,EACGE,MAAME,EADTJ,EACSI,UADT,OAGbC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACC,EAAAF,GACCG,MAAOP,EAAKQ,eAAgBC,GAAI,eAChCC,OAEIC,KAAM,cACNC,QAASZ,EAAKQ,eAAgBC,GAAI,uBAGlCE,KAAM,WACNC,QAASZ,EAAKQ,eAAgBC,GAAI,oBAGtCI,gBACEC,MAAOZ,KAGXC,EAAAC,EAAAC,cAAA,QAAMU,KAAK,iHAAqHC,IAAI,eACpIb,EAAAC,EAAAC,cAAA,OAAKY,UAAU,UACZlB,gBC5BDmB,EAAU,aA4BhBC,EA1BuB,SAACC,GAAU,IAE9BX,EAEEW,EAFFX,GACAY,EACED,EADFC,OAGIC,EAAUF,EAAME,SAAWJ,EAC3BK,EAASH,EAAMG,QAAUL,EAE/B,OACEf,EAAAC,EAAAC,cAACmB,EAAApB,GAAckB,QAAS,kBAAMA,EAAQb,IAAKc,OAAQ,kBAAMA,EAAOd,KAC9DN,EAAAC,EAAAC,cAAA,WAASoB,IAAKhB,EAAIA,GAAIA,EAAIQ,UAAU,QAClCd,EAAAC,EAAAC,cAAA,OAAKY,UAAU,sBACfd,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAOA,EAAP,YAEpBN,EAAAC,EAAAC,cAACT,EAAAQ,GAAqBK,GAAOA,EAAP,UAGpBY,GAAUA,EAAOM,IAAI,SAAAC,GAAA,OAASzB,EAAAC,EAAAC,cAAA,OAAKoB,IAAKG,EAAOC,IAAA,WAAgBD,EAASX,UAAU,wBCrBtFa,EAAU,aAqBhBC,EAnBqB,SAACX,GAAU,IAE5BX,EACEW,EADFX,GAGIa,EAAUF,EAAME,SAAWQ,EAC3BP,EAASH,EAAMG,QAAUO,EAE/B,OACE3B,EAAAC,EAAAC,cAACmB,EAAApB,GAAckB,QAAS,kBAAMA,EAAQb,IAAKc,OAAQ,kBAAMA,EAAOd,KAC9DN,EAAAC,EAAAC,cAAA,WAASoB,IAAKhB,EAAIA,GAAIA,EAAIQ,UAAU,cAClCd,EAAAC,EAAAC,cAAA,OAAKY,UAAU,cACbd,EAAAC,EAAAC,cAACT,EAAAQ,GAAqBK,GAAIA,0BCOvBuB,GAZYC,KAAKC,KAAK,GAYR,SAACC,EAAIC,EAAIC,GAAT,MAFA,SAEyCA,EAFzC,KAEuDA,EAFvD,KANU,SAACF,EAAIC,EAAIC,GAG5C,oBAFYF,EAAKE,EAAiBC,IAElC,QADYF,EAAKC,EAAiBE,IAClC,MAHmC,CAQoFJ,EAAIC,EAAIC,KAUpHG,EAAsB,SAACC,EAAOC,EAAOC,EAAUC,EAAOC,EAAQC,kBAAW,IAEpF,IAAIC,EAAK,EACLC,EAAK,EAELC,EAAK,EACLC,EAAK,EAETT,EAAMd,IAAI,SAACwB,GA4BT,OA3BIA,EAAK1C,KAAOiC,IAEdK,EAAKI,EAAKhB,GACVa,EAAKG,EAAKf,GACO,SAAbO,EACFI,GA7CqB,GA6CdI,EAAKC,MACU,UAAbT,EACTI,GA/CqB,GA+CdI,EAAKC,MACU,QAAbT,EACTK,GAAO,GAAAG,EAAKC,MAEZJ,GAnDqB,GAmDdG,EAAKC,OAGZD,EAAK1C,KAAOmC,IACdK,EAAKE,EAAKhB,GACVe,EAAKC,EAAKf,GACK,SAAXS,EACFI,GA1DqB,GA0DdE,EAAKC,MACQ,UAAXP,EACTI,GA5DqB,GA4DdE,EAAKC,MACQ,QAAXP,EACTK,GAAO,GAAAC,EAAKC,MAEZF,GAhEqB,GAgEdC,EAAKC,OAGT,OAIT,IAAIC,EAAMN,EACNO,EAAMN,EACNO,EAAMN,EACNO,EAAMN,EAmFV,MAjFiB,QAAbP,IACa,QAAXE,IACFS,EAAMN,EAAKf,KAAKwB,IAAIR,EAAKF,GAAMD,EAC/BU,EAAMN,EAAKjB,KAAKwB,IAAIR,EAAKF,GAAMD,GAElB,UAAXD,IACFS,EAAMN,GAAMA,EAAKE,GAAMJ,EACvBS,EAAMN,GAAMA,EAAKF,GAAMD,GAEV,WAAXD,IAEFS,EAAMN,GAAMA,EAAKE,GAAMJ,EACvBU,EAAMN,GAAMF,EAAKE,GAAMJ,GAEV,SAAXD,IACFS,EAAMN,GAAMA,EAAKE,GAAMJ,EACvBS,EAAMN,GAAMF,EAAKE,GAAMH,IAGV,UAAbH,IACa,QAAXE,IACFQ,EAAMN,GAAME,EAAKF,GAAMD,EACvBU,EAAMN,GAAMF,EAAKE,GAAMJ,GAEV,UAAXD,IAEFQ,EAAMN,EAAKd,KAAKwB,IAAIR,EAAKF,GAAMD,EAC/BS,EAAMN,EAAKhB,KAAKwB,IAAIR,EAAKF,GAAMD,GAElB,WAAXD,IAEFQ,EAAMN,GAAME,EAAKF,GAAMD,EACvBU,EAAMN,GAAMF,EAAKE,GAAMJ,GAEV,SAAXD,IACFQ,EAAMN,GAAME,EAAKF,GAAMD,EACvBS,EAAMN,GAAMA,EAAKF,GAAMD,IAGV,WAAbH,IACa,QAAXE,IAEFS,EAAMN,GAAME,EAAKF,GAAMF,EACvBU,EAAMN,GAAMA,EAAKF,GAAMF,GAEV,UAAXD,IACFS,EAAMN,GAAMA,EAAKE,GAAMJ,EACvBS,EAAMN,GAAMA,EAAKF,GAAMD,GAEV,WAAXD,IAEFS,EAAMN,EAAKf,KAAKwB,IAAIT,EAAKE,GAAMJ,EAC/BU,EAAMN,EAAKjB,KAAKwB,IAAIT,EAAKE,GAAMJ,GAElB,SAAXD,IACFS,EAAMN,GAAMA,EAAKE,GAAMJ,EACvBS,EAAMN,GAAMA,EAAKF,GAAMD,IAIV,SAAbH,IACa,QAAXE,IACFQ,EAAMN,GAAME,EAAKF,GAAMD,EACvBU,EAAMN,GAAMF,EAAKE,GAAMJ,GAEV,UAAXD,IAEFQ,EAAMN,GAAMA,EAAKE,GAAMH,EACvBS,EAAMN,GAAMF,EAAKE,GAAMH,GAEV,WAAXD,IAEFQ,EAAMN,GAAME,EAAKF,GAAMD,EACvBU,EAAMN,GAAMF,EAAKE,GAAMJ,GAEV,SAAXD,IACFQ,EAAMN,EAAKd,KAAKwB,IAAIV,EAAKE,GAAMH,EAC/BS,EAAMN,EAAKhB,KAAKwB,IAAIV,EAAKE,GAAMH,IAInC,KAAYC,EAAZ,IAAkBC,EAAlB,MAA0BK,EAA1B,IAAiCC,EAAjC,KAAyCC,EAAzC,IAAgDC,EAAhD,KAAwDP,EAAxD,IAA8DC,GCUhEQ,UAnJUC,EAAAC,IAAgBC,SAAS,KAAKC,KAAKH,EAAAjC,GAAA,SAAA7B,GAG3C,SAAAkE,EAAY3C,GAAO,IAAA4C,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAM/C,IAAN+C,MAkBFC,YAAc,WAEZ,IAAMnE,EAAO+D,EAAK5C,MAAMiD,UAClBC,EAAaX,EAAAY,EAAU,2BAC1BC,UAAU,eACVvE,KAAKA,EAAKqE,gBAEbA,EAAWG,aACRZ,SAAS,KACTC,KAAKH,EAAAvD,GACLsE,KAAK,UAAW,SAAAd,GAAA,OAAKA,EAAEe,UACvBC,MAAM,YAAa,SAAAhB,GAAA,OAAK5B,EAAY4B,EAAEzB,GAAIyB,EAAExB,GAAIwB,EAAER,SAGrD,IAAMyB,EAAYP,EAAWQ,QAC1BC,OAAO,KACPL,KAAK,KAAM,SAAAd,GAAA,OAAKA,EAAEnD,KAClBiE,KAAK,QAAS,aAEjBG,EAAUE,OAAO,UACdL,KAAK,KAAM,gBACXA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,IAAK,MACVA,KAAK,OAAQ,QAChBG,EAAUE,OAAO,UACdL,KAAK,QAAS,UACdA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,IAAK,MACVA,KAAK,OAAQ,SAAAd,GAAA,OAAKA,EAAEoB,QACvBH,EAAUE,OAAO,UACdL,KAAK,QAAS,eACdA,KAAK,KAAM,MACXA,KAAK,KAAM,MACXA,KAAK,IAAK,MACVA,KAAK,OAAQ,QACbA,KAAK,SAAU,SACfA,KAAK,eAAgB,MACxBG,EAAUE,OAAO,KACjBF,EAAUE,OAAO,KACdL,KAAK,YAAa,oBAClBK,OAAO,SACPL,KAAK,IAAK,SAAAd,GAAA,OAAKA,EAAEqB,SACjBP,KAAK,IAAK,SAAAd,GAAA,OAAKA,EAAEsB,SACjBR,KAAK,QAAS,SAAAd,GAAA,OAAKA,EAAEuB,aACrBT,KAAK,SAAU,SAAAd,GAAA,OAAKA,EAAEwB,cACtBV,KAAK,OAAQ,SAAAd,GAAA,kBAAiBA,EAAEnD,GAAnB,SAChBoE,EAAUE,OAAO,QACdL,KAAK,cAAe,UACpBA,KAAK,QAAS,gBACdK,OAAO,YACPL,KAAK,OAAQ,iBACbA,KAAK,cAAe,OACpBW,KAAK,SAAAzB,GAAA,OAAKA,EAAEjD,OAGf2D,EAAWgB,OAAOC,SAGlB,IAAMC,EAAS7B,EAAAY,EAAU,uBACtBC,UAAU,YACVvE,KAAKA,EAAKuF,YAECA,EAAOV,QAClBC,OAAO,QACPL,KAAK,KAAM,SAAAd,GAAA,OAAKA,EAAEnD,KAClBiE,KAAK,IAAK,SAAAd,GAAA,OAAKpB,EAAoBvC,EAAKqE,WAAYV,EAAE6B,cAAe7B,EAAEjB,SAAUiB,EAAE8B,YAAa9B,EAAEf,UAClG6B,KAAK,SAAU,SAAAd,GAAA,OAAKA,EAAEoB,QACtBN,KAAK,cAAe,KACpBA,KAAK,OAAQ,QAEhBc,EAAOF,OAAOC,UAzFdvB,EAAK2B,SAFY3B,sCAKnB4B,6BAOEzB,KAAKC,iBAGPyB,8BACE1B,KAAKC,iBA8EP0B,kBAAS,IAEL7E,EACEkD,KAAK/C,MADPH,UAGF,OACEd,EAAAC,EAAAC,cAAA,OACEY,UAAW8E,IAAW,aAAc9E,GACpC+E,MAAM,6BACNC,cAAY,+BACZC,QAAA,eAGA/F,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,YAAUI,GAAG,cACXN,EAAAC,EAAAC,cAAA,UAAQ8B,GAAG,KAAKC,GAAG,KAAK+D,EAAE,SAK9BhG,EAAAC,EAAAC,cAAA,KAAGI,GAAG,WACNN,EAAAC,EAAAC,cAAA,KAAGI,GAAG,iBAAA2F,EAtH+B,CAEpBjG,EAAAC,EAAMiG,YCwB/BC,GC3CYnG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,wBAAwB8F,eAAe,QAAQC,QAAQ,UAc5ErG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,4BAA4B8F,eAAe,aAAaC,QAAQ,UAcrFrG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,6BAA6B8F,eAAe,aAAaC,QAAQ,UActFrG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,uBAAuB8F,eAAe,OAAOC,QAAQ,UAc1ErG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,yBAAyB8F,eAAe,SAASC,QAAQ,UAc9ErG,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,2BAA2B8F,eAAe,WAAWC,QAAQ,WDzE5FlC,aAEI7D,GAAI,YACJE,KAAM,YACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,GACJC,GAAI,GACJgB,MAAO,GACPuB,QAAS,IAGTlE,GAAI,QACJE,KAAM,WACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,KACJC,GAAI,KACJgB,MAAO,IACPuB,QAAS,IAGTlE,GAAI,OACJE,KAAM,SACN8F,OAAQ,OACRzB,MAAO,UACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,GACJC,GAAI,GACJgB,MAAO,EACPuB,QAAS,MEKf+B,GA9CEpC,aAEI7D,GAAI,YACJE,KAAM,YACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,GACJC,GAAI,GACJgB,MAAO,GACPuB,QAAS,IAGTlE,GAAI,OACJE,KAAM,SACN8F,OAAQ,OACRzB,MAAO,UACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,KACJC,GAAI,KACJgB,MAAO,IACPuB,QAAS,IAGTlE,GAAI,QACJE,KAAM,WACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,KACJC,GAAI,KACJgB,MAAO,IACPuB,QAAS,KCefgC,GAxDErC,aAEI7D,GAAI,OACJE,KAAM,SACN8F,OAAQ,OACRzB,MAAO,UACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,KACJC,GAAI,KACJgB,MAAO,IACPuB,QAAS,IAGTlE,GAAI,QACJE,KAAM,WACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,KACJC,GAAI,KACJgB,MAAO,IACPuB,QAAS,IAGTlE,GAAI,YACJE,KAAM,YACN8F,OAAQ,SACRzB,MAAO,OACPC,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbjD,GAAI,GACJC,GAAI,GACJgB,MAAO,EACPuB,QAAS,IAGba,SAEI/E,GAAI,eACJuE,MAAO,SACPS,cAAe,OACf9C,SAAU,OACV+C,YAAa,QACb7C,OAAQ,SCsJd+D,IA1MInG,GAAI,uBAGJA,GAAI,sBAGJA,GAAI,6BAGJA,GAAI,qCAGJA,GAAI,wCAGJA,GAAI,4CAGJA,GAAI,iCACJY,QACE,qDAIFZ,GAAI,8BAIJA,GAAI,qBAGJA,GAAI,iBAGJA,GAAI,iBAGJA,GAAI,iBAGJA,GAAI,iBAGJA,GAAI,iBAGJA,GAAI,kBAGJA,GAAI,iBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,iBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,iBAGJA,GAAI,iBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,kBAGJA,GAAI,mBAGJA,GAAI,kBAGJA,GAAI,mBAGJA,GAAI,mBAIJA,GAAI,mCAGJA,GAAI,0BAGJA,GAAI,qBACJY,QACE,2DACA,4DACA,+DAIFZ,GAAI,mBACJY,QACE,2CACA,yCAIFZ,GAAI,6BACJY,QACE,8CAIFZ,GAAI,2BAIJA,GAAI,oBAGJA,GAAI,wBAGJA,GAAI,yBAGJA,GAAI,mBAGJA,GAAI,qBAGJA,GAAI,uBAIJA,GAAI,WAGJA,GAAI,eACJoG,OACE,wCACA,4DAIFpG,GAAI,uBAGJA,GAAI,uBAGJA,GAAI,qBAGJA,GAAI,4BAGJA,GAAI,4BAIJA,GAAI,iBAGJA,GAAI,kBAGJA,GAAI,gBAGJA,GAAI,kBAGJA,GAAI,gBAGJA,GAAI,gBC1LFqG,cACJ,SAAAC,EAAY3F,GAAO,IAAA4C,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAM/C,IAAN+C,MAQF6C,gBAAkB,SAACvG,GACjBwG,QAAQC,yBAAaC,EAArB,IAA+C1G,GAC/CuD,EAAKoD,UACHC,WAAY5G,KAZGuD,EAgBnBsD,eAAiB,SAAC7G,GAEZA,IADmBuD,EAAK2B,MAApB0B,YAENrD,EAAKoD,UACHC,WAAY,MApBCrD,EAyBnBuD,WAAa,WACXvD,EAAKoD,UACHI,UA3BexD,EA+BnByD,UAAY,WACVzD,EAAKoD,UACHI,UA/BFxD,EAAK2B,OACH0B,WAAY,GACZG,OACAnD,UAAWiC,GALItC,8BAqCnB8B,kBAAS,IAAA4B,EAAAvD,KAAAwD,EAKHxD,KAAKwB,MAHP0B,EAFKM,EAELN,WACAG,EAHKG,EAGLH,IACAnD,EAJKsD,EAILtD,UAGF,OACElE,EAAAC,EAAAC,cAACX,GAAOQ,UAAWmH,GACjBlH,EAAAC,EAAAC,cAAA,OAAKY,UAAU,WACbd,EAAAC,EAAAC,cAAA,OAAKY,UAAU,0BACbd,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,gBACzBN,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,mBAEvBN,EAAAC,EAAAC,cAAA,OAAKY,UAAU,iBAAiBY,IAAI,2DAElC+E,EAASjF,IAAI,SAACiG,GACZ,MAAmB,qBAAfA,EAAQnH,GAERN,EAAAC,EAAAC,cAAA,WAASoB,IAAKmG,EAAQnH,GAAIA,GAAG,mBAAmBQ,UAAU,QACxDd,EAAAC,EAAAC,cAAA,OAAKY,UAAU,sBACfd,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAACT,EAAA8B,GAAiBjB,GAAG,4BACzBN,EAAAC,EAAAC,cAAA,OAAKY,UAAW8E,IAAW,cAAgB8B,OAA4D,IAArDR,EAAWS,YAAY,2BAAqCC,eAAgBP,KAE5HrH,EAAAC,EAAAC,cAACmB,EAAApB,GAAckB,QAAS,kBAAMoG,EAAKN,UAAWC,WAAY,OACxDlH,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAACqD,GAAWW,UAAWA,EAAWgD,WAAYA,IAC9ClH,EAAAC,EAAAC,cAAA,OAAKY,UAAU,WACfd,EAAAC,EAAAC,cAAC0B,GACCtB,GAAG,6BACHa,QAAS,kBAAMoG,EAAKN,UAAW/C,UAAWiC,EAAQe,WAAY,kCAEhElH,EAAAC,EAAAC,cAAC0B,GACCtB,GAAG,8BACHa,QAAS,kBAAMoG,EAAKN,UAAW/C,UAAWqC,EAAQW,WAAY,mCAEhElH,EAAAC,EAAAC,cAAC0B,GACCtB,GAAG,kCACHa,QAAS,kBAAMoG,EAAKN,UAAW/C,UAAWsC,EAAQU,WAAY,uCAEhElH,EAAAC,EAAAC,cAAC0B,GACCtB,GAAG,8BACHa,QAAS,kBAAMoG,EAAKV,gBAAgB,gCACpCzF,OAAQ,kBAAMmG,EAAKJ,eAAe,mCAGtCnH,EAAAC,EAAAC,cAACmB,EAAApB,GAAckB,QAASoG,EAAKH,WAAYhG,OAAQmG,EAAKD,WAAtD,MAMJtH,EAAAC,EAAAC,cAACc,GACCM,IAAKmG,EAAQnH,GACbA,GAAImH,EAAQnH,GACZY,OAAQuG,EAAQvG,OAChBC,QAASoG,EAAKV,0BAhG5BF,CAAkB3G,EAAAC,EAAMiG,WA6G9B2B,EAAAC,QAAetI,OAAAuI,EAAAxG,EAAA/B,CAASmH","file":"component---src-pages-index-js-1c7849da1c2c23d0eb51.js","sourcesContent":["// @flow\n\nimport React from 'react'\nimport Helmet from 'react-helmet'\nimport { injectIntl } from 'react-intl'\nimport '../../node_modules/sanitize.css/sanitize.css'\n// $FlowIgnore\nimport 'semantic-ui-css/semantic.min.css'\nimport './layout.scss'\n\nconst Layout = ({\n  children, data, intl, bodyClass,\n}) => (\n  <div>\n    <Helmet\n      title={intl.formatMessage({ id: 'site.title' })}\n      meta={[\n        {\n          name: 'description',\n          content: intl.formatMessage({ id: 'site.description' }),\n        },\n        {\n          name: 'keywords',\n          content: intl.formatMessage({ id: 'site.keywords' }),\n        },\n      ]}\n      bodyAttributes={{\n        class: bodyClass,\n      }}\n    />\n    <link href=\"https://fonts.googleapis.com/css?family=Cinzel+Decorative|Fondamento|Pirata+One|Snowburst+One&amp;subset=latin-ext\" rel=\"stylesheet\" />\n    <div className=\"layout\">\n      {children}\n    </div>\n  </div>\n)\n\nexport default injectIntl(Layout)\n","import React from 'react'\nimport ScrollTrigger from 'react-scroll-trigger'\nimport { FormattedMessage, FormattedHTMLMessage } from 'react-intl'\n\nconst emptyFn = () => {}\n\nconst ContentSection = (props) => {\n  const {\n    id,\n    images,\n  } = props\n\n  const onEnter = props.onEnter || emptyFn\n  const onExit = props.onExit || emptyFn\n\n  return (\n    <ScrollTrigger onEnter={() => onEnter(id)} onExit={() => onExit(id)}>\n      <section key={id} id={id} className=\"item\">\n        <div className=\"ui hidden divider\" />\n        <h3>\n          <FormattedMessage id={`${id}.title`} />\n        </h3>\n        <FormattedHTMLMessage id={`${id}.desc`} />\n\n        {\n          images && images.map(image => <img key={image} src={`/images/${image}`} className=\"ui fluid image\" />)\n        }\n      </section>\n    </ScrollTrigger>\n  )\n}\n\nexport default ContentSection\n","import React from 'react'\nimport ScrollTrigger from 'react-scroll-trigger'\nimport { FormattedHTMLMessage } from 'react-intl'\n\nconst emptyFn = () => {}\n\nconst StorySection = (props) => {\n  const {\n    id,\n  } = props\n\n  const onEnter = props.onEnter || emptyFn\n  const onExit = props.onExit || emptyFn\n\n  return (\n    <ScrollTrigger onEnter={() => onEnter(id)} onExit={() => onExit(id)}>\n      <section key={id} id={id} className=\"story item\">\n        <div className=\"story-desc\">\n          <FormattedHTMLMessage id={id} />\n        </div>\n      </section>\n    </ScrollTrigger>\n  )\n}\n\nexport default StorySection\n","// @flow\n\nexport const AvatarWidth = 100\nexport const AvatarHeight = 100\nexport const AvatarcircleR = 30\nexport const AvatarTitleHeight = 12\n\nexport const SvgWidth = 120\nexport const SvgHeight = 120\n\nexport const AvatarCenterD = (SvgWidth - AvatarWidth) / 2\n\nexport const trw = 30\nexport const trh = trw * Math.sqrt(3) / 2\n\n// export const scale = percent => `scale(${percent} ${percent})`\n\nexport const translateCenterString = (cx, cy, scalePercent) => {\n  const tx = (cx / scalePercent) - (AvatarWidth / 2)\n  const ty = (cy / scalePercent) - (AvatarHeight / 2)\n  return `translate(${tx}px, ${ty}px)`\n}\n\nexport const scaleString = (scalePercentX, scalePercentY) => `scale(${scalePercentX}, ${scalePercentY})`\n\nexport const scaleAvatar = (cx, cy, scalePercent) => `${scaleString(scalePercent, scalePercent)} ${translateCenterString(cx, cy, scalePercent)}`\n\nexport const drawBezier = (x1, y1, x2, y2, vertical, strength = 0.5) => {\n  if (vertical) {\n    return `M ${x1},${y1} C ${x1},${y1 + (y2 - y1) * strength}, ${x2},${y2 - (y2 - y1) * strength}, ${x2},${y2}`\n  }\n  return `M ${x1},${y1} C ${x1 + (x2 - x1) * strength},${y1}, ${x2 - (x2 - x1) * strength},${y2}, ${x2},${y2}`\n}\n\n/* eslint-disable complexity */\nexport const drawCharacterBezier = (chars, char1, fromSide, char2, toSide, strength = 0.5) => {\n  // beginning\n  let x1 = 1\n  let y1 = 1\n  // end\n  let x2 = 1\n  let y2 = 1\n\n  chars.map((char) => {\n    if (char.id === char1) {\n      // console.log(char.scale * (AvatarWidth / 2))\n      x1 = char.cx\n      y1 = char.cy\n      if (fromSide === 'left') {\n        x1 -= (char.scale * AvatarcircleR)\n      } else if (fromSide === 'right') {\n        x1 += (char.scale * AvatarcircleR)\n      } else if (fromSide === 'top') {\n        y1 -= (char.scale * (AvatarcircleR + AvatarTitleHeight))\n      } else {\n        y1 += (char.scale * AvatarcircleR)\n      }\n    }\n    if (char.id === char2) {\n      x2 = char.cx\n      y2 = char.cy\n      if (toSide === 'left') {\n        x2 -= (char.scale * AvatarcircleR)\n      } else if (toSide === 'right') {\n        x2 += (char.scale * AvatarcircleR)\n      } else if (toSide === 'top') {\n        y2 -= (char.scale * (AvatarcircleR + AvatarTitleHeight))\n      } else {\n        y2 += (char.scale * AvatarcircleR)\n      }\n    }\n    return null\n  })\n\n  // Control points\n  let Cx1 = x1\n  let Cy1 = y1\n  let Cx2 = x2\n  let Cy2 = y2\n\n  if (fromSide === 'top') {\n    if (toSide === 'top') {\n      Cy1 = y1 - Math.abs(x2 - x1) * strength\n      Cy2 = y2 - Math.abs(x2 - x1) * strength\n    }\n    if (toSide === 'right') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cy1 = y1 - (y1 - y2) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 + (x1 - x2) * strength\n    }\n  }\n  if (fromSide === 'right') {\n    if (toSide === 'top') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'right') {\n      // horizontal convex\n      Cx1 = x1 + Math.abs(x2 - x1) * strength\n      Cx2 = x2 + Math.abs(x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n  }\n  if (fromSide === 'bottom') {\n    if (toSide === 'top') {\n      // vertical\n      Cy1 = y1 + (y2 - y1) * strength\n      Cy2 = y2 - (y2 - y1) * strength\n    }\n    if (toSide === 'right') {\n      Cy1 = y1 + (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cy1 = y1 + Math.abs(y1 - y2) * strength\n      Cy2 = y2 + Math.abs(y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n  }\n\n  if (fromSide === 'left') {\n    if (toSide === 'top') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'right') {\n      // horizontal convex\n      Cx1 = x1 - (x1 - x2) * strength\n      Cx2 = x2 + (x1 - x2) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cx1 = x1 - Math.abs(x1 - x2) * strength\n      Cx2 = x2 - Math.abs(x1 - x2) * strength\n    }\n  }\n\n  return `M ${x1},${y1} C ${Cx1},${Cy1}, ${Cx2},${Cy2}, ${x2},${y2}`\n}\n","// @flow\n\nimport React from 'react'\nimport * as d3 from 'd3'\nimport classNames from 'classnames'\nimport Avatar from './Avatar'\nimport {\n  AvatarWidth,\n  AvatarHeight,\n  SvgWidth,\n  SvgHeight,\n  AvatarCenterD,\n  trw,\n  trh,\n  translateCenterString,\n  scaleString,\n  scaleAvatar,\n  drawBezier,\n  drawCharacterBezier,\n} from './shared'\n\nimport './StoryGraph.scss'\n\n\nconst t = d3.transition().duration(750).ease(d3.easeLinear)\n\nclass StoryGraph extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {}\n  }\n\n  componentDidMount() {\n    // if (!this.state.queen) {\n    //   this.setState({\n    //     queen: d3.select('#queen'),\n    //     king: d3.select('#king'),\n    //   })\n    // }\n    this.updateGraph()\n  }\n\n  componentDidUpdate() {\n    this.updateGraph()\n  }\n\n  updateGraph = () => {\n    // console.log(this.props.graphData.characters)\n    const data = this.props.graphData\n    const characters = d3.select('.storyGraph #characters')\n      .selectAll('g.character')\n      .data(data.characters || [])\n\n    characters.transition()\n      .duration(1000)\n      .ease(d3.easeElastic)\n      .attr('opacity', d => d.opacity)\n      .style('transform', d => scaleAvatar(d.cx, d.cy, d.scale))\n\n    // Enter…\n    const character = characters.enter()\n      .append('g')\n      .attr('id', d => d.id)\n      .attr('class', 'character')\n\n    character.append('circle')\n      .attr('id', 'avatarCircle')\n      .attr('cx', '50')\n      .attr('cy', '50')\n      .attr('r', '32')\n      .attr('fill', 'none')\n    character.append('circle')\n      .attr('class', 'gender')\n      .attr('cx', '50')\n      .attr('cy', '50')\n      .attr('r', '30')\n      .attr('fill', d => d.color)\n    character.append('circle')\n      .attr('class', 'none#######')\n      .attr('cx', '50')\n      .attr('cy', '50')\n      .attr('r', '25')\n      .attr('fill', 'none')\n      .attr('stroke', 'black')\n      .attr('stroke-width', '.5')\n    character.append('g')\n    character.append('g')\n      .attr('clip-path', 'url(#circleMask)')\n      .append('image')\n      .attr('x', d => d.imageX)\n      .attr('y', d => d.imageY)\n      .attr('width', d => d.imageWidth)\n      .attr('height', d => d.imageHeight)\n      .attr('href', d => `/avatars/${d.id}.jpg`)\n    character.append('text')\n      .attr('text-anchor', 'middle')\n      .attr('class', 'avatar-title')\n      .append('textPath')\n      .attr('href', '#avatarCircle')\n      .attr('startOffset', '75%')\n      .text(d => d.name)\n\n    // Exit…\n    characters.exit().remove()\n\n\n    const arrows = d3.select('.storyGraph #arrows')\n      .selectAll('g.arrows')\n      .data(data.arrows || [])\n\n    const arrow = arrows.enter()\n      .append('path')\n      .attr('id', d => d.id)\n      .attr('d', d => drawCharacterBezier(data.characters, d.fromCharacter, d.fromSide, d.toCharacter, d.toSide))\n      .attr('stroke', d => d.color)\n      .attr('strokeWidth', '1')\n      .attr('fill', 'none')\n\n    arrows.exit().remove()\n  }\n\n  render() {\n    const {\n      className,\n    } = this.props\n\n    return (\n      <svg\n        className={classNames('storyGraph', className)}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns-xlink=\"http://www.w3.org/1999/xlink\"\n        viewBox={`0 0 ${SvgWidth} ${SvgHeight}`}\n      >\n\n        <defs>\n          <clipPath id=\"circleMask\">\n            <circle cx=\"50\" cy=\"50\" r=\"25\" />\n          </clipPath>\n        </defs>\n\n\n        <g id=\"arrows\" />\n        <g id=\"characters\" />\n\n        {/*\n\n        <rect x=\"0\" y=\"0\" width={SvgWidth} height={SvgHeight} fill=\"none\" stroke=\"black\" strokeWidth=\"1\" />\n\n        {\n          graphData.characters.map(character => <Avatar key={character.id} character={character} />)\n        }\n\n        <path d=\"M 30,37.5 a 25,25,0,0,1,22.5,22.5\" stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n\n        <path id=\"huntsman-snowwhite\" d=\"M 90,82.5 c -10,0, -20,-15, -30,-15\" stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n        <path id=\"witch-snowwhite\" d=\"M 75,97.5 c -10,0, -5,-30, -15,-30\" stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n\n        <circle cx=\"24\" cy=\"32\" r=\"3\" fill=\"orange\" />\n        <circle cx=\"91\" cy=\"54\" r=\"3\" fill=\"orange\" />\n        <path d={drawBezier(24, 32, 91, 54)} stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n        <path d={drawBezier(24, 32, 91, 54, true)} stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n\n        <path d={drawBezier(graphData.characters[0].cx, graphData.characters[0].cy, graphData.characters[1].cx, graphData.characters[1].cy, true)} stroke=\"red\" strokeWidth=\"1\" fill=\"none\" />\n\n        <line x1=\"60\" y1=\"60\" x2={60 + trw / 2} y2={60 - trh} stroke=\"#000\" strokeWidth=\"1\" />\n        */}\n      </svg>\n    )\n  }\n}\n\nexport default StoryGraph\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nconst graphData = {\n  characters: [\n    {\n      id: 'snowwhite',\n      name: 'Hófehérke',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 60,\n      cy: 60,\n      scale: 0.1,\n      opacity: 1,\n    },\n    {\n      id: 'queen',\n      name: 'Királynő',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.25,\n      opacity: 0,\n    },\n    {\n      id: 'king',\n      name: 'Király',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 60,\n      cy: 60,\n      scale: 1,\n      opacity: 1,\n    },\n  ],\n}\n\nexport default graphData\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nconst graphData = {\n  characters: [\n    {\n      id: 'queen',\n      name: <FormattedMessage id=\"character.queen.title\" defaultMessage=\"Queen\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'snowwhite',\n      name: <FormattedMessage id=\"character.snowwhite.title\" defaultMessage=\"Snow White\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 52.5,\n      cy: 67.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'witch',\n      name: <FormattedMessage id=\"character.stepmother.title\" defaultMessage=\"Stepmother\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: -4,\n      imageY: 20,\n      imageWidth: 120,\n      imageHeight: 120,\n      cx: 82.5,\n      cy: 97.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'king',\n      name: <FormattedMessage id=\"character.king.title\" defaultMessage=\"King\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 37.5,\n      cy: 22.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'prince',\n      name: <FormattedMessage id=\"character.prince.title\" defaultMessage=\"Prince\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 67.5,\n      cy: 52.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'huntsman',\n      name: <FormattedMessage id=\"character.huntsman.title\" defaultMessage=\"Huntsman\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 97.5,\n      cy: 82.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n  ],\n}\n\nexport default graphData\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nconst graphData = {\n  characters: [\n    {\n      id: 'snowwhite',\n      name: 'Hófehérke',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 60,\n      cy: 60,\n      scale: 0.1,\n      opacity: 0,\n    },\n    {\n      id: 'king',\n      name: 'Király',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 37.5,\n      cy: 22.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'queen',\n      name: 'Királynő',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 52.5,\n      cy: 77.5,\n      scale: 0.75,\n      opacity: 1,\n    },\n  ],\n}\n\nexport default graphData\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nconst graphData = {\n  characters: [\n    {\n      id: 'king',\n      name: 'Király',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 37.5,\n      cy: 22.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'queen',\n      name: 'Királynő',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.25,\n      opacity: 1,\n    },\n    {\n      id: 'snowwhite',\n      name: 'Hófehérke',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 60,\n      cy: 60,\n      scale: 1,\n      opacity: 1,\n    },\n  ],\n  arrows: [\n    {\n      id: 'queenAndKing',\n      color: 'orange',\n      fromCharacter: 'king',\n      fromSide: 'left',\n      toCharacter: 'queen',\n      toSide: 'top',\n    },\n  ],\n}\n\nexport default graphData\n","\nconst Sections = [\n  {\n    id: 'story.introduction',\n  },\n  {\n    id: 'story.storyteller',\n  },\n  {\n    id: 'story.storyteller.legacy',\n  },\n  {\n    id: 'story.storyteller.commonLanguage',\n  },\n  {\n    id: 'story.storyteller.philosophersStone',\n  },\n  {\n    id: 'story.storyteller.historyOfStorytelling',\n  },\n  {\n    id: 'story.storyteller.emptySymbols',\n    images: [\n      'fairytales/d9d1324cbeee4cb98d791a22d5ef8b3a.jpg',\n    ],\n  },\n  {\n    id: 'story.storyteller.symbols',\n  },\n\n  {\n    id: 'story.asWeKnowIt',\n  },\n  {\n    id: 'story.scene1',\n  },\n  {\n    id: 'story.scene2',\n  },\n  {\n    id: 'story.scene3',\n  },\n  {\n    id: 'story.scene4',\n  },\n  {\n    id: 'story.scene5',\n  },\n  {\n    id: 'story.sequel1',\n  },\n  {\n    id: 'story.scene6',\n  },\n  {\n    id: 'story.sequel2',\n  },\n  {\n    id: 'story.sequel3',\n  },\n  {\n    id: 'story.scene7',\n  },\n  {\n    id: 'story.sequel4',\n  },\n  {\n    id: 'story.sequel5',\n  },\n  {\n    id: 'story.sequel6',\n  },\n  {\n    id: 'story.scene8',\n  },\n  {\n    id: 'story.scene9',\n  },\n  {\n    id: 'story.sequel7',\n  },\n  {\n    id: 'story.scene10',\n  },\n  {\n    id: 'story.scene11',\n  },\n  {\n    id: 'story.scene12',\n  },\n  {\n    id: 'story.sequel8',\n  },\n  {\n    id: 'story.sequel9',\n  },\n  {\n    id: 'story.sequel10',\n  },\n  {\n    id: 'story.scene13',\n  },\n  {\n    id: 'story.sequel11',\n  },\n  {\n    id: 'story.sequel12',\n  },\n\n  {\n    id: 'story.textil.historyOfIndustry',\n  },\n  {\n    id: 'story.textil.clothing',\n  },\n  {\n    id: 'story.textil.fates',\n    images: [\n      'fates/three-witches/507b2de3fd7820d7635379419b461e44.jpg',\n      'fates/thread-of-life/37beef605e6b1147dda91067b37373a5.jpg',\n      'fates/thread-of-life/ffa194d2f308ee1ca1d4460730df9bdc.jpg',\n    ],\n  },\n  {\n    id: 'story.textil.dna',\n    images: [\n      'dns/1e128f17a2754dbaacc515b9883f9bd1.jpg',\n      'dns/jf14.reviews.prenatal.large.jpg',\n    ],\n  },\n  {\n    id: 'story.textil.umbilicalCord',\n    images: [\n      'dns/9a89fd44784303216a1ab156c7e37c14.jpg',\n    ],\n  },\n  {\n    id: 'story.textil.lifeBlood',\n  },\n\n  {\n    id: 'character.queen',\n  },\n  {\n    id: 'character.snowwhite',\n  },\n  {\n    id: 'character.stepmother',\n  },\n  {\n    id: 'character.king',\n  },\n  {\n    id: 'character.prince',\n  },\n  {\n    id: 'character.huntsman',\n  },\n\n  {\n    id: 'symbol',\n  },\n  {\n    id: 'symbol.color',\n    extra: [\n      'https://youtu.be/M7G08_Y1PQQ?t=24m51s',\n      'https://youtu.be/6PFqrwPCPqA&t=14m41s - fekete madonna',\n    ],\n  },\n  {\n    id: 'symbol.color.white',\n  },\n  {\n    id: 'symbol.color.black',\n  },\n  {\n    id: 'symbol.color.red',\n  },\n  {\n    id: 'symbol.color.redInWhite',\n  },\n  {\n    id: 'symbol.color.redInBlack',\n  },\n\n  {\n    id: 'symbol.paths',\n  },\n  {\n    id: 'symbol.forest',\n  },\n  {\n    id: 'symbol.home',\n  },\n  {\n    id: 'symbol.mirror',\n  },\n  {\n    id: 'symbol.jail',\n  },\n  {\n    id: 'symbol.mine',\n  },\n]\n\nexport default Sections\n","import React from 'react'\nimport classNames from 'classnames'\nimport { FormattedMessage } from 'react-intl'\nimport ScrollTrigger from 'react-scroll-trigger'\nimport Layout from '../components/layout'\nimport { withIntl } from '../i18n'\nimport ContentSection from '../components/ContentSection'\nimport StorySection from '../components/StorySection'\n\nimport { StoryGraph } from '../components/StoryGraph'\nimport scene1 from '../components/StoryGraph/scene1'\nimport scene2 from '../components/StoryGraph/scene2'\nimport scene3 from '../components/StoryGraph/scene3'\nimport Sections from '../components/sections'\n\nclass IndexPage extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inViewport: '',\n      end: false,\n      graphData: scene1,\n    }\n  }\n\n  onEnterViewport = (id) => {\n    history.replaceState(undefined, undefined, `#${id}`)\n    this.setState({\n      inViewport: id,\n    })\n  }\n\n  onExitViewport = (id) => {\n    const { inViewport } = this.state\n    if (id === inViewport) {\n      this.setState({\n        inViewport: '',\n      })\n    }\n  }\n\n  onEnterEnd = () => {\n    this.setState({\n      end: true,\n    })\n  }\n\n  onExitEnd = () => {\n    this.setState({\n      end: false,\n    })\n  }\n\n  render() {\n    const {\n      inViewport,\n      end,\n      graphData,\n    } = this.state\n\n    return (\n      <Layout bodyClass={inViewport}>\n        <div className=\"content\">\n          <div className=\"ui text container list\">\n            <h1><FormattedMessage id=\"site.title\" /></h1>\n            <h2>\n              <FormattedMessage id=\"site.subtitle\" />\n            </h2>\n            <img className=\"ui fluid image\" src=\"/images/snowwhite/ec604b93f922dbb736628b8d5cdacfc9.jpg\" />\n            {\n              Sections.map((section) => {\n                if (section.id === 'story.asWeKnowIt') {\n                  return (\n                    <section key={section.id} id=\"story.asWeKnowIt\" className=\"item\">\n                      <div className=\"ui hidden divider\" />\n                      <h3><FormattedMessage id=\"story.asWeKnowIt.title\" /></h3>\n                      <div className={classNames('scrollable', { fixed: inViewport.lastIndexOf('story.scene.beginning') !== -1 }, { 'scroll-below': end })}>\n\n                        <ScrollTrigger onEnter={() => this.setState({ inViewport: '' })}>\n                          <br />\n                        </ScrollTrigger>\n                        <StoryGraph graphData={graphData} inViewport={inViewport} />\n                        <div className=\"spacer\" />\n                        <StorySection\n                          id=\"story.scene.beginning.king\"\n                          onEnter={() => this.setState({ graphData: scene1, inViewport: 'story.scene.beginning.king' })}\n                        />\n                        <StorySection\n                          id=\"story.scene.beginning.queen\"\n                          onEnter={() => this.setState({ graphData: scene2, inViewport: 'story.scene.beginning.queen' })}\n                        />\n                        <StorySection\n                          id=\"story.scene.beginning.snowwhite\"\n                          onEnter={() => this.setState({ graphData: scene3, inViewport: 'story.scene.beginning.snowwhite' })}\n                        />\n                        <StorySection\n                          id=\"story.scene.beginning.witch\"\n                          onEnter={() => this.onEnterViewport('story.scene.beginning.witch')}\n                          onExit={() => this.onExitViewport('story.scene.beginning.witch')}\n                        />\n                      </div>\n                      <ScrollTrigger onEnter={this.onEnterEnd} onExit={this.onExitEnd}>&nbsp;</ScrollTrigger>\n\n                    </section>\n                  )\n                }\n                return (\n                  <ContentSection\n                    key={section.id}\n                    id={section.id}\n                    images={section.images}\n                    onEnter={this.onEnterViewport}\n                  />\n                )\n              })\n            }\n          </div>\n        </div>\n\n      </Layout>\n    )\n  }\n}\n\nexport default withIntl(IndexPage)\n"],"sourceRoot":""}