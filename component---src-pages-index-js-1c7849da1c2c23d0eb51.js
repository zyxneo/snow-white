(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{224:function(e,t,a){"use strict";a.r(t);var r=a(34),n=a.n(r),i=a(1),o=a.n(i),s=a(234),c=a.n(s),l=a(80),d=a(84),m=a(263),g=a.n(m),u=(a(255),a(253),a(250),Object(l.e)(function(e){var t=e.children,a=(e.data,e.intl),r=e.bodyClass;return o.a.createElement("div",null,o.a.createElement(g.a,{title:a.formatMessage({id:"site.title"}),meta:[{name:"description",content:a.formatMessage({id:"site.description"})},{name:"keywords",content:a.formatMessage({id:"site.keywords"})}],bodyAttributes:{class:r}}),o.a.createElement("link",{href:"https://fonts.googleapis.com/css?family=Cinzel+Decorative|Fondamento|Pirata+One|Snowburst+One&subset=latin-ext",rel:"stylesheet"}),o.a.createElement("div",{className:"layout"},t))})),h=a(230),y=function(){},p=function(e){var t=e.id,a=e.images,r=e.onEnter||y,n=e.onExit||y;return o.a.createElement(d.a,{onEnter:function(){return r(t)},onExit:function(){return n(t)}},o.a.createElement("section",{key:t,id:t,className:"item"},o.a.createElement("div",{className:"ui hidden divider"}),o.a.createElement("h3",null,o.a.createElement(l.b,{id:t+".title"})),o.a.createElement(l.a,{id:t+".desc"}),a&&a.map(function(e){return o.a.createElement("img",{key:e,src:"/images/"+e,className:"ui fluid image"})})))},f=function(){},b=function(e){var t=e.id,a=e.onEnter||f,r=e.onExit||f;return o.a.createElement(d.a,{onEnter:function(){return a(t)},onExit:function(){return r(t)}},o.a.createElement("section",{key:t,id:t,className:"story item"},o.a.createElement("div",{className:"story-desc"},o.a.createElement(l.a,{id:t}))))},E=(a(232),a(231)),w=(Math.sqrt(3),function(e,t,a){return"scale("+a+", "+a+") "+function(e,t,a){return"translate("+(e/a-50)+"px, "+(t/a-50)+"px)"}(e,t,a)}),x=function(e,t,a,r,n,i){void 0===i&&(i=.5);var o=1,s=1,c=1,l=1;e.map(function(e){return e.id===t&&(o=e.cx,s=e.cy,"left"===a?o-=30*e.scale:"right"===a?o+=30*e.scale:"top"===a?s-=42*e.scale:s+=30*e.scale),e.id===r&&(c=e.cx,l=e.cy,"left"===n?c-=30*e.scale:"right"===n?c+=30*e.scale:"top"===n?l-=42*e.scale:l+=30*e.scale),null});var d=o,m=s,g=c,u=l;return"top"===a&&("top"===n&&(m=s-Math.abs(c-o)*i,u=l-Math.abs(c-o)*i),"right"===n&&(m=s-(s-l)*i,g=c-(c-o)*i),"bottom"===n&&(m=s-(s-l)*i,u=l+(s-l)*i),"left"===n&&(m=s-(s-l)*i,g=c+(o-c)*i)),"right"===a&&("top"===n&&(d=o+(c-o)*i,u=l+(s-l)*i),"right"===n&&(d=o+Math.abs(c-o)*i,g=c+Math.abs(c-o)*i),"bottom"===n&&(d=o+(c-o)*i,u=l+(s-l)*i),"left"===n&&(d=o+(c-o)*i,g=c-(c-o)*i)),"bottom"===a&&("top"===n&&(m=s+(l-s)*i,u=l-(l-s)*i),"right"===n&&(m=s+(s-l)*i,g=c-(c-o)*i),"bottom"===n&&(m=s+Math.abs(s-l)*i,u=l+Math.abs(s-l)*i),"left"===n&&(m=s-(s-l)*i,g=c-(c-o)*i)),"left"===a&&("top"===n&&(d=o+(c-o)*i,u=l+(s-l)*i),"right"===n&&(d=o-(o-c)*i,g=c+(o-c)*i),"bottom"===n&&(d=o+(c-o)*i,u=l+(s-l)*i),"left"===n&&(d=o-Math.abs(o-c)*i,g=c-Math.abs(o-c)*i)),"M "+o+","+s+" C "+d+","+m+", "+g+","+u+", "+c+","+l},k=(a(248),E.d().duration(750).ease(E.b),function(e){function t(t){var a;return(a=e.call(this,t)||this).updateGraph=function(){var e=a.props.graphData,t=E.c(".storyGraph #characters").selectAll("g.character").data(e.characters||[]);t.transition().duration(1e3).ease(E.a).attr("opacity",function(e){return e.opacity}).style("transform",function(e){return w(e.cx,e.cy,e.scale)});var r=t.enter().append("g").attr("id",function(e){return e.id}).attr("class","character");r.append("circle").attr("id","avatarCircle").attr("cx","50").attr("cy","50").attr("r","32").attr("fill","none"),r.append("circle").attr("class","gender").attr("cx","50").attr("cy","50").attr("r","30").attr("fill",function(e){return e.color}),r.append("circle").attr("class","none#######").attr("cx","50").attr("cy","50").attr("r","25").attr("fill","none").attr("stroke","black").attr("stroke-width",".5"),r.append("g"),r.append("g").attr("clip-path","url(#circleMask)").append("image").attr("x",function(e){return e.imageX}).attr("y",function(e){return e.imageY}).attr("width",function(e){return e.imageWidth}).attr("height",function(e){return e.imageHeight}).attr("href",function(e){return"/avatars/"+e.id+".jpg"}),r.append("text").attr("text-anchor","middle").attr("class","avatar-title").append("textPath").attr("href","#avatarCircle").attr("startOffset","75%").text(function(e){return e.name}),t.exit().remove();var n=E.c(".storyGraph #arrows").selectAll("g.arrows").data(e.arrows||[]);n.enter().append("path").attr("id",function(e){return e.id}).attr("d",function(t){return x(e.characters,t.fromCharacter,t.fromSide,t.toCharacter,t.toSide)}).attr("stroke",function(e){return e.color}).attr("strokeWidth","1").attr("fill","none"),n.exit().remove()},a.state={},a}n()(t,e);var a=t.prototype;return a.componentDidMount=function(){this.updateGraph()},a.componentDidUpdate=function(){this.updateGraph()},a.render=function(){var e=this.props.className;return o.a.createElement("svg",{className:c()("storyGraph",e),xmlns:"http://www.w3.org/2000/svg","xmlns-xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 120 120"},o.a.createElement("defs",null,o.a.createElement("clipPath",{id:"circleMask"},o.a.createElement("circle",{cx:"50",cy:"50",r:"25"}))),o.a.createElement("g",{id:"arrows"}),o.a.createElement("g",{id:"characters"}))},t}(o.a.Component)),v=(o.a.createElement(l.b,{id:"character.queen.title",defaultMessage:"Queen",tagName:"tspan"}),o.a.createElement(l.b,{id:"character.snowwhite.title",defaultMessage:"Snow White",tagName:"tspan"}),o.a.createElement(l.b,{id:"character.stepmother.title",defaultMessage:"Stepmother",tagName:"tspan"}),o.a.createElement(l.b,{id:"character.king.title",defaultMessage:"King",tagName:"tspan"}),o.a.createElement(l.b,{id:"character.prince.title",defaultMessage:"Prince",tagName:"tspan"}),o.a.createElement(l.b,{id:"character.huntsman.title",defaultMessage:"Huntsman",tagName:"tspan"}),{characters:[{id:"snowwhite",name:"Hófehérke",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:60,cy:60,scale:.1,opacity:1},{id:"queen",name:"Királynő",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:22.5,cy:37.5,scale:.25,opacity:0},{id:"king",name:"Király",gender:"male",color:"skyblue",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:60,cy:60,scale:1,opacity:1}]}),q={characters:[{id:"snowwhite",name:"Hófehérke",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:60,cy:60,scale:.1,opacity:0},{id:"king",name:"Király",gender:"male",color:"skyblue",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:37.5,cy:22.5,scale:.25,opacity:1},{id:"queen",name:"Királynő",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:52.5,cy:77.5,scale:.75,opacity:1}]},M={characters:[{id:"king",name:"Király",gender:"male",color:"skyblue",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:37.5,cy:22.5,scale:.25,opacity:1},{id:"queen",name:"Királynő",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:22.5,cy:37.5,scale:.25,opacity:1},{id:"snowwhite",name:"Hófehérke",gender:"female",color:"pink",imageX:0,imageY:0,imageWidth:100,imageHeight:100,cx:60,cy:60,scale:1,opacity:1}],arrows:[{id:"queenAndKing",color:"orange",fromCharacter:"king",fromSide:"left",toCharacter:"queen",toSide:"top"}]},N=[{id:"story.introduction"},{id:"story.storyteller"},{id:"story.storyteller.legacy"},{id:"story.storyteller.commonLanguage"},{id:"story.storyteller.philosophersStone"},{id:"story.storyteller.historyOfStorytelling"},{id:"story.storyteller.emptySymbols",images:["fairytales/d9d1324cbeee4cb98d791a22d5ef8b3a.jpg"]},{id:"story.storyteller.symbols"},{id:"story.asWeKnowIt"},{id:"story.scene1"},{id:"story.scene2"},{id:"story.scene3"},{id:"story.scene4"},{id:"story.scene5"},{id:"story.sequel1"},{id:"story.scene6"},{id:"story.sequel2"},{id:"story.sequel3"},{id:"story.scene7"},{id:"story.sequel4"},{id:"story.sequel5"},{id:"story.sequel6"},{id:"story.scene8"},{id:"story.scene9"},{id:"story.sequel7"},{id:"story.scene10"},{id:"story.scene11"},{id:"story.scene12"},{id:"story.sequel8"},{id:"story.sequel9"},{id:"story.sequel10"},{id:"story.scene13"},{id:"story.sequel11"},{id:"story.sequel12"},{id:"story.textil.historyOfIndustry"},{id:"story.textil.clothing"},{id:"story.textil.fates",images:["fates/three-witches/507b2de3fd7820d7635379419b461e44.jpg","fates/thread-of-life/37beef605e6b1147dda91067b37373a5.jpg","fates/thread-of-life/ffa194d2f308ee1ca1d4460730df9bdc.jpg"]},{id:"story.textil.dna",images:["dns/1e128f17a2754dbaacc515b9883f9bd1.jpg","dns/jf14.reviews.prenatal.large.jpg"]},{id:"story.textil.umbilicalCord",images:["dns/9a89fd44784303216a1ab156c7e37c14.jpg"]},{id:"story.textil.lifeBlood"},{id:"character.queen"},{id:"character.snowwhite"},{id:"character.stepmother"},{id:"character.king"},{id:"character.prince"},{id:"character.huntsman"},{id:"symbol"},{id:"symbol.color",extra:["https://youtu.be/M7G08_Y1PQQ?t=24m51s","https://youtu.be/6PFqrwPCPqA&t=14m41s - fekete madonna"]},{id:"symbol.color.white"},{id:"symbol.color.black"},{id:"symbol.color.red"},{id:"symbol.color.redInWhite"},{id:"symbol.color.redInBlack"},{id:"symbol.paths"},{id:"symbol.forest"},{id:"symbol.home"},{id:"symbol.mirror"},{id:"symbol.jail"},{id:"symbol.mine"}],S=function(e){function t(t){var a;return(a=e.call(this,t)||this).onEnterViewport=function(e){history.replaceState(void 0,void 0,"#"+e),a.setState({inViewport:e})},a.onExitViewport=function(e){e===a.state.inViewport&&a.setState({inViewport:""})},a.onEnterEnd=function(){a.setState({end:!0})},a.onExitEnd=function(){a.setState({end:!1})},a.state={inViewport:"",end:!1,graphData:v},a}return n()(t,e),t.prototype.render=function(){var e=this,t=this.state,a=t.inViewport,r=t.end,n=t.graphData;return o.a.createElement(u,{bodyClass:a},o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"ui text container list"},o.a.createElement("h1",null,o.a.createElement(l.b,{id:"site.title"})),o.a.createElement("h2",null,o.a.createElement(l.b,{id:"site.subtitle"})),o.a.createElement("img",{className:"ui fluid image",src:"/images/snowwhite/ec604b93f922dbb736628b8d5cdacfc9.jpg"}),N.map(function(t){return"story.asWeKnowIt"===t.id?o.a.createElement("section",{key:t.id,id:"story.asWeKnowIt",className:"item"},o.a.createElement("div",{className:"ui hidden divider"}),o.a.createElement("h3",null,o.a.createElement(l.b,{id:"story.asWeKnowIt.title"})),o.a.createElement("div",{className:c()("scrollable",{fixed:-1!==a.lastIndexOf("story.scene.beginning")},{"scroll-below":r})},o.a.createElement(d.a,{onEnter:function(){return e.setState({inViewport:""})}},o.a.createElement("br",null)),o.a.createElement(k,{graphData:n,inViewport:a}),o.a.createElement("div",{className:"spacer"}),o.a.createElement(b,{id:"story.scene.beginning.king",onEnter:function(){return e.setState({graphData:v,inViewport:"story.scene.beginning.king"})}}),o.a.createElement(b,{id:"story.scene.beginning.queen",onEnter:function(){return e.setState({graphData:q,inViewport:"story.scene.beginning.queen"})}}),o.a.createElement(b,{id:"story.scene.beginning.snowwhite",onEnter:function(){return e.setState({graphData:M,inViewport:"story.scene.beginning.snowwhite"})}}),o.a.createElement(b,{id:"story.scene.beginning.witch",onEnter:function(){return e.onEnterViewport("story.scene.beginning.witch")},onExit:function(){return e.onExitViewport("story.scene.beginning.witch")}})),o.a.createElement(d.a,{onEnter:e.onEnterEnd,onExit:e.onExitEnd}," ")):o.a.createElement(p,{key:t.id,id:t.id,images:t.images,onEnter:e.onEnterViewport})}))))},t}(o.a.Component);t.default=Object(h.b)(S)},248:function(e,t,a){},250:function(e,t,a){}}]);
//# sourceMappingURL=component---src-pages-index-js-1c7849da1c2c23d0eb51.js.map