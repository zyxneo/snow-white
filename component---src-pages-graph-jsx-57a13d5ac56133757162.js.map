{"version":3,"sources":["webpack:///./src/components/StorySection/index.jsx","webpack:///./src/components/StoryGraph/shared.js","webpack:///./src/components/StoryGraph/StoryGraph.jsx","webpack:///./src/components/StoryGraph/scene1.js","webpack:///./src/components/StoryGraph/graphData.js","webpack:///./src/pages/graph.jsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/layout.js","webpack:///./src/components/ScrollSection/index.jsx","webpack:///./src/components/Footer.jsx","webpack:///./src/components/PreviousButton.jsx","webpack:///./src/components/NextButton.jsx"],"names":["emptyFn","StorySection","props","_this","_React$Component","call","this","state","mounted","componentDidMount","ScrollTrigger","require","default","setState","e","console","error","render","id","onEnter","onExit","react_default","a","createElement","children","React","Component","AvatarWidth","AvatarHeight","scaleAvatar","Math","sqrt","cx","cy","scalePercent","translateCenterString","drawCharacterBezier","char1","fromSide","char2","toSide","padding","strength","x1","y1","x2","y2","scale","Cx1","Cy1","Cx2","Cy2","abs","TEAL","PINK","SKYBLUE","ARROW_COLORS","StoryGraph","_React$PureComponent","updateGraph","d3","t","transition","duration","ease","easeExpInOut","data","graphData","characters","select","selectAll","keys","d","attr","opacity","style","character","enter","append","gender","imageX","imageY","imageWidth","imageHeight","withPrefix","text","name","exit","remove","arrows","includes","color","fromCharacter","toCharacter","width","dashArray","componentDidUpdate","className","classNames","xmlns","xmlns-xlink","viewBox","r","map","key","markerWidth","markerHeight","refX","refY","orient","markerUnits","fill","PureComponent","index_es","defaultMessage","tagName","center","queen","snowwhite","witch","king","prince","huntsman","witch2","queen2","king2","huntsman2","move","char","coordinate","CooCenter","CooCenterTop","CooCenterBottom","CooTopLeftMale","CooTopLeftFemale","CooTopRightMale","CooTopRightFemale","CooBottomLeftMale","CooBottomLeftFemale","CooBottomRightMale","CooBottomRightFemale","scene2","lodash","cloneDeep","scene1","queenAndKing","scene3","kingAndSnowwhite","queenAndSnowwhite","scene4","queenAndWitch","huntsmanAndSnowwhite","scene5","scene6","princeAndSnowwhite","scene7","scene8","snowwhiteAndWitch","scene9","witch2AndHuntsman","witch2AndSnowwhite","scene10","scene11","princeAndHuntsman","scene12","kingAndPrince","queenAndPrince","scene13","snowwhiteAndQueen2","scene14","queen2AndWitch2","scene15","princeAndKing2","kingAndHuntsman2","scene16","Graph","onEnterViewport","history","replaceState","undefined","inViewport","onEnterEnd","end","onExitEnd","_this2","_this$state","layout","bodyclassName","fixed","lastIndexOf","scroll-below","ScrollSection","components_StoryGraph_StoryGraph","components_StorySection","src","marginBottom","Footer","PreviousButton","to","content","NextButton","__webpack_require__","__webpack_exports__","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","createContext","Consumer","staticQueryData","query","Error","propTypes","PropTypes","object","string","isRequired","func","m","module","exports","ProdPageRenderer","_ref","location","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","Layout","showMenu","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3___default","menuVisible","_this$props","bodyClass","inverted","react__WEBPACK_IMPORTED_MODULE_4___default","react_helmet__WEBPACK_IMPORTED_MODULE_9___default","title","meta","bodyAttributes","class","href","rel","semantic_ui_react__WEBPACK_IMPORTED_MODULE_6__","basic","icon","onClick","semantic_ui_react__WEBPACK_IMPORTED_MODULE_7__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_8__","hidden","size","relaxed","animated","selection","Item","as","Link","activeClassName","react__WEBPACK_IMPORTED_MODULE_1___default","semantic_ui_react__WEBPACK_IMPORTED_MODULE_1__","semantic_ui_react__WEBPACK_IMPORTED_MODULE_2__","vertical","gatsby__WEBPACK_IMPORTED_MODULE_1__","labelPosition","floated"],"mappings":"oMAEMA,EAAU,aA2CDC,cAxCb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXC,SAAS,GAHML,sCAMnBM,kBAAA,WACE,IAAIH,KAAKC,MAAMC,QACb,IACEF,KAAKI,cAAgBC,EAAQ,KAAwBC,QACrDN,KAAKO,SAAS,CACZL,SAAS,IAEX,MAAOM,GACPC,QAAQC,MAAMF,OAKpBG,OAAA,WAAS,IAGLC,EACEZ,KAAKJ,MADPgB,GAGIC,EAAUb,KAAKJ,MAAMiB,SAAWnB,EAChCoB,EAASd,KAAKJ,MAAMkB,QAAUpB,EAEpC,GAAIM,KAAKC,MAAMC,QAAS,CACtB,IAAME,EAAgBJ,KAAKI,cAC3B,OACEW,EAAAC,EAAAC,cAACb,EAAD,CAAeS,QAAS,kBAAMA,EAAQD,IAAKE,OAAQ,kBAAMA,EAAOF,KAC7DZ,KAAKJ,MAAMsB,UAIlB,OAAO,SArCgBC,IAAMC,sCCFpBC,4BAAc,KACdC,EAAe,IAsBfC,GAZYC,KAAKC,KAAK,GAYR,SAACC,EAAIC,EAAIC,GAAT,MAFA,SAEyCA,EAFzC,KAEuDA,EAFvD,KANU,SAACF,EAAIC,EAAIC,GAG5C,oBAFYF,EAAKE,EAAiBP,EAAc,GAEhD,QADYM,EAAKC,EAAiBN,EAAe,GACjD,MAKiGO,CAAsBH,EAAIC,EAAIC,KAUpHE,EAAsB,SAACC,EAAOC,EAAUC,EAAOC,EAAQC,EAAaC,QAAmB,IAAhCD,MAAU,QAAsB,IAAnBC,MAAW,IAE1F,IAAIC,EAAK,EACLC,EAAK,EAELC,EAAK,EACLC,EAAK,EAGTH,EAAKN,EAAML,GACXY,EAAKP,EAAMJ,GACM,SAAbK,EACFK,GA3CyB,GA2ClBN,EAAMU,MACS,UAAbT,EACTK,GA7CyB,GA6ClBN,EAAMU,MACS,QAAbT,EACTM,GAAO,GAAAP,EAAMU,MAEbH,GAjDyB,GAiDlBP,EAAMU,MAGfF,EAAKN,EAAMP,GACXc,EAAKP,EAAMN,GACI,SAAXO,EACFK,GAvDyB,GAuDlBN,EAAMQ,MAAyBN,EAClB,UAAXD,EACTK,GAzDyB,GAyDlBN,EAAMQ,MAAyBN,EAClB,QAAXD,EACTM,GAAO,GAAAP,EAAMQ,MAA+CN,EAE5DK,GA7DyB,GA6DlBP,EAAMQ,MAAyBN,EAKxC,IAAIO,EAAML,EACNM,EAAML,EACNM,EAAML,EACNM,EAAML,EAmFV,MAjFiB,QAAbR,IACa,QAAXE,IACFS,EAAML,EAAKd,KAAKsB,IAAIP,EAAKF,GAAMD,EAC/BS,EAAML,EAAKhB,KAAKsB,IAAIP,EAAKF,GAAMD,GAElB,UAAXF,IACFS,EAAML,GAAMA,EAAKE,GAAMJ,EACvBQ,EAAML,GAAMA,EAAKF,GAAMD,GAEV,WAAXF,IAEFS,EAAML,GAAMA,EAAKE,GAAMJ,EACvBS,EAAML,GAAMF,EAAKE,GAAMJ,GAEV,SAAXF,IACFS,EAAML,GAAMA,EAAKE,GAAMJ,EACvBQ,EAAML,GAAMF,EAAKE,GAAMH,IAGV,UAAbJ,IACa,QAAXE,IACFQ,EAAML,GAAME,EAAKF,GAAMD,EACvBS,EAAML,GAAMF,EAAKE,GAAMJ,GAEV,UAAXF,IAEFQ,EAAML,EAAKb,KAAKsB,IAAIP,EAAKF,GAAMD,EAC/BQ,EAAML,EAAKf,KAAKsB,IAAIP,EAAKF,GAAMD,GAElB,WAAXF,IAEFQ,EAAML,GAAME,EAAKF,GAAMD,EACvBS,EAAML,GAAMF,EAAKE,GAAMJ,GAEV,SAAXF,IACFQ,EAAML,GAAME,EAAKF,GAAMD,EACvBQ,EAAML,GAAMA,EAAKF,GAAMD,IAGV,WAAbJ,IACa,QAAXE,IAEFS,EAAML,GAAME,EAAKF,GAAMF,EACvBS,EAAML,GAAMA,EAAKF,GAAMF,GAEV,UAAXF,IACFS,EAAML,GAAMA,EAAKE,GAAMJ,EACvBQ,EAAML,GAAMA,EAAKF,GAAMD,GAEV,WAAXF,IAEFS,EAAML,EAAKd,KAAKsB,IAAIR,EAAKE,GAAMJ,EAC/BS,EAAML,EAAKhB,KAAKsB,IAAIR,EAAKE,GAAMJ,GAElB,SAAXF,IACFS,EAAML,GAAMA,EAAKE,GAAMJ,EACvBQ,EAAML,GAAMA,EAAKF,GAAMD,IAIV,SAAbJ,IACa,QAAXE,IACFQ,EAAML,GAAME,EAAKF,GAAMD,EACvBS,EAAML,GAAMF,EAAKE,GAAMJ,GAEV,UAAXF,IAEFQ,EAAML,GAAMA,EAAKE,GAAMH,EACvBQ,EAAML,GAAMF,EAAKE,GAAMH,GAEV,WAAXF,IAEFQ,EAAML,GAAME,EAAKF,GAAMD,EACvBS,EAAML,GAAMF,EAAKE,GAAMJ,GAEV,SAAXF,IACFQ,EAAML,EAAKb,KAAKsB,IAAIT,EAAKE,GAAMH,EAC/BQ,EAAML,EAAKf,KAAKsB,IAAIT,EAAKE,GAAMH,IAInC,KAAYC,EAAZ,IAAkBC,EAAlB,MAA0BI,EAA1B,IAAiCC,EAAjC,KAAyCC,EAAzC,IAAgDC,EAAhD,KAAwDN,EAAxD,IAA8DC,GC1InDO,UAAO,WACPC,EAAO,OACPC,EAAU,UAIjBC,EAAe,CAVF,MACE,QACC,UA8KPC,cApKb,SAAAA,EAAYvD,GAAO,IAAAC,EAAA,OACjBA,EAAAuD,EAAArD,KAAAC,KAAMJ,IAANI,MAyBFqD,YAAc,WAEZ,GAAIxD,EAAKI,MAAMC,QAAS,CACtB,IAAMoD,EAAKzD,EAAKyD,GAEVC,EAAID,EAAGE,aAAaC,SAAS,KAAMC,KAAKJ,EAAGK,cAE3CC,EAAO/D,EAAKD,MAAMiE,UAClBC,EAAaR,EAAGS,OAAO,2BAC1BC,UAAU,eACVJ,KAAKN,EAAGW,KAAKL,EAAKE,aAAe,GAAI,SAAAI,GAAC,OAAIA,IAE7CJ,EAAWN,WAAWD,GACnBY,KAAK,UAAW,SAAAD,GAAC,OAAIN,EAAKE,WAAWI,GAAGE,UACxCC,MAAM,YAAa,SAAAH,GAAC,OAAI3C,EAAYqC,EAAKE,WAAWI,GAAGxC,GAAIkC,EAAKE,WAAWI,GAAGvC,GAAIiC,EAAKE,WAAWI,GAAGzB,SAGxG,IAAM6B,EAAYR,EAAWS,QAC1BC,OAAO,KACPL,KAAK,KAAM,SAAAD,GAAC,OAAIA,IAChBC,KAAK,QAAS,aAEjBG,EAAUE,OAAO,UACdL,KAAK,QAAS,UACdA,KAAK,KAAM9C,EAAc,GACzB8C,KAAK,KAAM7C,EAAe,GAC1B6C,KAAK,IAAK,MACVA,KAAK,OAAQ,SAACD,GACb,MAAkC,SAA9BN,EAAKE,WAAWI,GAAGO,OACdxB,EAEFD,IAEXsB,EAAUE,OAAO,UACdL,KAAK,QAAS,UACdA,KAAK,KAAM9C,EAAc,GACzB8C,KAAK,KAAM7C,EAAe,GAC1B6C,KAAK,IAAK,MACVA,KAAK,OAAQ,QACbA,KAAK,SAAU,SACfA,KAAK,eAAgB,MACxBG,EAAUE,OAAO,KACjBF,EAAUE,OAAO,KACdL,KAAK,YAAa,oBAClBK,OAAO,SACPL,KAAK,IAAK,SAAAD,GAAC,OAAIN,EAAKE,WAAWI,GAAGQ,SAClCP,KAAK,IAAK,SAAAD,GAAC,OAAIN,EAAKE,WAAWI,GAAGS,SAClCR,KAAK,QAAS,SAAAD,GAAC,OAAIN,EAAKE,WAAWI,GAAGU,aACtCT,KAAK,SAAU,SAAAD,GAAC,OAAIN,EAAKE,WAAWI,GAAGW,cACvCV,KAAK,OAAQ,SAAAD,GAAC,OAAIY,qBAAU,WAAYlB,EAAKE,WAAWI,GAAGtD,GAA/B,UAE/B0D,EAAUE,OAAO,QACdL,KAAK,KAAM,gBACXA,KAAK,OAAQ,QACbA,KAAK,IAHR,MAGkB9C,EAAc,EAAI,IAHpC,KAG2CC,EAAe,EAH1D,uBAIAgD,EAAUE,OAAO,QACdL,KAAK,cAAe,UACpBA,KAAK,QAAS,gBACdK,OAAO,YACPL,KAAK,OAAQ,iBACbA,KAAK,cAAe,OACpBY,KAAK,SAAAb,GAAC,OAAIN,EAAKE,WAAWI,GAAGc,OAGhClB,EAAWmB,OAAOC,SAElB,IAAMC,EAAS7B,EAAGS,OAAO,uBACtBC,UAAU,cACVJ,KAAKN,EAAGW,KAAKL,EAAKuB,SAAW,GAAI,SAAAjB,GAAC,OAAIA,IAEzCiB,EAAO3B,WAAWD,GACfY,KAAK,IAAK,SAACD,GACV,IAAI/B,EAAU,EAId,OAHIe,EAAakC,SAASxB,EAAKuB,OAAOjB,GAAGmB,SACvClD,EAAU,GAELL,EAAoB8B,EAAKE,WAAWF,EAAKuB,OAAOjB,GAAGoB,eAAgB1B,EAAKuB,OAAOjB,GAAGlC,SAAU4B,EAAKE,WAAWF,EAAKuB,OAAOjB,GAAGqB,aAAc3B,EAAKuB,OAAOjB,GAAGhC,OAAQC,KAExKgC,KAAK,SAAU,SAAAD,GAAC,OAAIN,EAAKuB,OAAOjB,GAAGmB,QACnClB,KAAK,eAAgB,SAAAD,GAAC,OAAIN,EAAKuB,OAAOjB,GAAGsB,OAAS,MAClDrB,KAAK,mBAAoB,SAAAD,GAAC,OAAIN,EAAKuB,OAAOjB,GAAGuB,WAAa,KAC1DtB,KAAK,UAAW,SAAAD,GAAC,OAAIN,EAAKuB,OAAOjB,GAAGE,UACpCD,KAAK,aAAc,SAAAD,GAAC,oBAAkBN,EAAKuB,OAAOjB,GAAGmB,MAAjC,MAEvBF,EAAOZ,QACJC,OAAO,QACPL,KAAK,KAAM,SAAAD,GAAC,OAAIA,IAChBC,KAAK,QAAS,SACdA,KAAK,OAAQ,QAEhBgB,EAAOF,OAAOC,WAlHhBrF,EAAKI,MAAQ,CACXC,SAAS,GAHML,sCAOnBM,kBAAA,WACE,IAAIH,KAAKC,MAAMC,QACb,IACEF,KAAKsD,GAAKjD,EAAQ,KAClBL,KAAKO,SAAS,CACZL,SAAS,IAEX,MAAOM,GACPC,QAAQC,MAAMF,GAIlBR,KAAKqD,iBAGPqC,mBAAA,WACE1F,KAAKqD,iBAiGP1C,OAAA,WAAS,IAELgF,EACE3F,KAAKJ,MADP+F,UAGF,OACE5E,EAAAC,EAAAC,cAAA,OACE0E,UAAWC,IAAW,aAAcD,GACpCE,MAAM,6BACNC,cAAY,+BACZC,QAAO,eAGPhF,EAAAC,EAAAC,cAAA,YACEF,EAAAC,EAAAC,cAAA,YAAUL,GAAG,cACXG,EAAAC,EAAAC,cAAA,UAAQS,GAAG,KAAKC,GAAG,KAAKqE,EAAE,QAI1B9C,EAAa+C,IAAI,SAAAZ,GAAK,OACpBtE,EAAAC,EAAAC,cAAA,UACEiF,IAAKb,EACLzE,GAAE,SAAWyE,EACbc,YAAY,IACZC,aAAa,IACbC,KAAK,IACLC,KAAK,MACLC,OAAO,OACPC,YAAY,eAEZzF,EAAAC,EAAAC,cAAA,QAAMiD,EAAE,qBAAqBuC,KAAMpB,QAM3CtE,EAAAC,EAAAC,cAAA,KAAGL,GAAG,WACNG,EAAAC,EAAAC,cAAA,KAAGL,GAAG,oBA9JWO,IAAMuF,wBCiIhB7C,GCjJH9C,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,wBAAwBgG,eAAe,QAAQC,QAAQ,UAc5E9F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,4BAA4BgG,eAAe,aAAaC,QAAQ,UAcrF9F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,6BAA6BgG,eAAe,aAAaC,QAAQ,UActF9F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,uBAAuBgG,eAAe,OAAOC,QAAQ,UAc1E9F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,yBAAyBgG,eAAe,SAASC,QAAQ,UAc9E9F,EAAAC,EAAAC,cAAC0F,EAAA,EAAD,CAAkB/F,GAAG,2BAA2BgG,eAAe,WAAWC,QAAQ,UD/E5E,CAChB/C,WAAY,CACVgD,OAAQ,CACNlG,GAAI,SACJoE,KAAM,SACNtD,GAAI,GACJC,GAAI,GACJyC,QAAS,EACT3B,MAAO,MAETsE,MAAO,CACLnG,GAAI,QACJoE,KAAM,WACNP,OAAQ,SACRY,MAAO,OACPX,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,GAEX4C,UAAW,CACTpG,GAAI,YACJoE,KAAM,YACNP,OAAQ,SACRY,MAAO,OACPX,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,GAEX6C,MAAO,CACLrG,GAAI,QACJoE,KAAM,UACNP,OAAQ,SACRY,MAAO,OACPX,QAAS,EACTC,OAAQ,GACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,GACJC,GAAI,GACJc,MAAO,GACP2B,QAAS,GAEX8C,KAAM,CACJtG,GAAI,OACJoE,KAAM,SACNP,OAAQ,OACRY,MAAO,UACPX,QAAS,GACTC,OAAQ,GACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,GACJC,GAAI,GACJc,MAAO,IACP2B,QAAS,GAEX+C,OAAQ,CACNvG,GAAI,SACJoE,KAAM,SACNP,OAAQ,OACRY,MAAO,UACPX,OAAQ,GACRC,OAAQ,GACRC,WAAY,GACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,GAEXgD,SAAU,CACRxG,GAAI,WACJoE,KAAM,SACNP,OAAQ,OACRY,MAAO,UACPX,OAAQ,GACRC,OAAQ,GACRC,WAAY,GACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,GAEXiD,OAAQ,CACNzG,GAAI,QACJoE,KAAM,UACNP,OAAQ,SACRY,MAAO,OACPX,QAAS,EACTC,OAAQ,GACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,GACJC,GAAI,GACJc,MAAO,GACP2B,QAAS,GAEXkD,OAAQ,CACN1G,GAAI,QACJoE,KAAM,WACNP,OAAQ,SACRY,MAAO,OACPX,OAAQ,EACRC,OAAQ,EACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,GAEXmD,MAAO,CACL3G,GAAI,OACJoE,KAAM,SACNP,OAAQ,OACRY,MAAO,UACPX,QAAS,GACTC,OAAQ,GACRC,WAAY,IACZC,YAAa,IACbnD,GAAI,GACJC,GAAI,GACJc,MAAO,IACP2B,QAAS,GAEXoD,UAAW,CACT5G,GAAI,WACJoE,KAAM,SACNP,OAAQ,OACRY,MAAO,UACPX,OAAQ,GACRC,OAAQ,GACRC,WAAY,GACZC,YAAa,IACbnD,GAAI,KACJC,GAAI,KACJc,MAAO,GACP2B,QAAS,IAGbe,OAAQ,KE1HJsC,EAAO,SAACC,EAAMC,GAGlB,OAFAD,EAAKhG,GAAKiG,EAAWjG,GACrBgG,EAAK/F,GAAKgG,EAAWhG,GACd+F,GAUHE,EAAY,CAAElG,GAAI,GAAIC,GAAI,IAC1BkG,EAAe,CAAEnG,GAAIkG,EAAUlG,GAAIC,GAN3B,IAORmG,EAAkB,CAAEpG,GAAIkG,EAAUlG,GAAIC,GAN9B,IAORoG,EAAiB,CAAErG,GATX,GASsBC,GAVtB,IAWRqG,EAAmB,CAAEtG,GAXb,GAWwBC,GAVxB,IAYRsG,EAAkB,CAAEvG,GATZ,GASuBC,GAbvB,IAcRuG,EAAoB,CAAExG,GATd,IASyBC,GAbzB,IAeRwG,EAAoB,CAAEzG,GAfd,GAeyBC,GAXzB,KAYRyG,EAAsB,CAAE1G,GAjBhB,GAiB2BC,GAb3B,IAeR0G,EAAqB,CAAE3G,GAff,GAe0BC,GAd1B,KAeR2G,EAAuB,CAAE5G,GAfjB,IAe4BC,GAhB5B,IAmBR4G,EAASC,IAAOC,UAAUC,GAChCH,EAAOzE,WAAWoD,KAAKzE,MAAQ,GAC/BgF,EAAKc,EAAOzE,WAAWoD,KAAMa,GAC7BQ,EAAOzE,WAAWiD,MAAM3C,QAAU,EAClCmE,EAAOzE,WAAWiD,MAAMtE,MAAQ,IAChCgF,EAAKc,EAAOzE,WAAWiD,MAAOa,GAC9BW,EAAOpD,OAAOwD,aAAe,CAC3BtD,MAAOtC,EACPuC,cAAe,OACftD,SAAU,OACVuD,YAAa,QACbrD,OAAQ,OAGV,IAAM0G,EAASJ,IAAOC,UAAUF,GAChCK,EAAO9E,WAAWiD,MAAMtE,MAAQ,GAChCgF,EAAKmB,EAAO9E,WAAWiD,MAAOiB,GAC9BY,EAAO9E,WAAWkD,UAAU5C,QAAU,EACtCwE,EAAO9E,WAAWkD,UAAUvE,MAAQ,IACpCgF,EAAKmB,EAAO9E,WAAWkD,UAAWY,GAClCgB,EAAOzD,OAAO0D,iBAAmB,CAC/BxD,MHhEmB,QGiEnBC,cAAe,OACftD,SAAU,SACVuD,YAAa,YACbrD,OAAQ,OACRuD,UAAW,IACXD,MAAO,IAEToD,EAAOzD,OAAO2D,kBAAoB,CAChCzD,MHzEmB,QG0EnBC,cAAe,QACftD,SAAU,QACVuD,YAAa,YACbrD,OAAQ,OACRuD,UAAW,IACXD,MAAO,IAGT,IAAMuD,EAASP,IAAOC,UAAUG,GAChCG,EAAOjF,WAAWiD,MAAM3C,QAAU,GAClC2E,EAAOjF,WAAWkD,UAAUvE,MAAQ,GACpCgF,EAAKsB,EAAOjF,WAAWkD,UAAWc,GAClCiB,EAAOjF,WAAWmD,MAAM7C,QAAU,EAClC2E,EAAOjF,WAAWmD,MAAMxE,MAAQ,IAChCgF,EAAKsB,EAAOjF,WAAWmD,MAAO,CAAEvF,GAAI,GAAIC,GAAI,KAC5CoH,EAAO5D,OAAO6D,cAAgB,CAC5B3D,MHxFoB,SGyFpBC,cAAe,QACftD,SAAU,SACVuD,YAAa,QACbrD,OAAQ,OAEV6G,EAAO5D,OAAO8D,qBAAuB,CACnC5D,MHlGiB,MGmGjBC,cAAe,WACftD,SAAU,OACVuD,YAAa,YACbrD,OAAQ,QACRuD,UAAW,IACXD,MAAO,IAGT,IAAM0D,EAASV,IAAOC,UAAUM,GAChCG,EAAOpF,WAAWmD,MAAMxE,MAAQ,GAChCgF,EAAKyB,EAAOpF,WAAWmD,MAAOmB,GAC9Bc,EAAOpF,WAAWsD,SAAShD,QAAU,EACrC8E,EAAOpF,WAAWsD,SAAS3E,MAAQ,IACnCgF,EAAKyB,EAAOpF,WAAWsD,SAAU,CAAE1F,GAAI,GAAIC,GAAI,KAE/C,IAAMwH,EAASX,IAAOC,UAAUS,GAChCC,EAAOrF,WAAWsD,SAAS3E,MAAQ,GACnCgF,EAAK0B,EAAOrF,WAAWsD,SAAUiB,GACjCc,EAAOrF,WAAWqD,OAAO/C,QAAU,EACnC+E,EAAOrF,WAAWqD,OAAO1E,MAAQ,IACjCgF,EAAK0B,EAAOrF,WAAWqD,OAAQ,CAAEzF,GAAI,GAAIC,GAAI,KAC7CwH,EAAOhE,OAAOiE,mBAAqB,CACjC/D,MAAOtC,EACPuC,cAAe,SACftD,SAAU,SACVuD,YAAa,YACbrD,OAAQ,OAGV,IAAMmH,EAASb,IAAOC,UAAUU,GAChCE,EAAOvF,WAAWqD,OAAO1E,MAAQ,GACjCgF,EAAK4B,EAAOvF,WAAWqD,OAAQU,GAE/B,IAAMyB,EAASd,IAAOC,UAAUY,GAChCC,EAAOxF,WAAWuD,OAAO5E,MAAQ,GACjC6G,EAAOxF,WAAWuD,OAAOjD,QAAU,EACnCkF,EAAOxF,WAAWuD,OAAOrC,KAAO,eAChCyC,EAAK6B,EAAOxF,WAAWuD,OAAQiB,GAC/BgB,EAAOnE,OAAOoE,kBAAoB,CAChClE,MHxIoB,SGyIpBC,cAAe,YACftD,SAAU,SACVuD,YAAa,SACbrD,OAAQ,QAGV,IAAMsH,EAAShB,IAAOC,UAAUa,GAChCE,EAAO1F,WAAWmD,MAAM7C,QAAU,EAClCoF,EAAOrE,OAAO6D,cAAc5E,QAAU,EACtCoF,EAAOrE,OAAOsE,kBAAoB,CAChCpE,MAAOtC,EACPuC,cAAe,SACftD,SAAU,SACVuD,YAAa,WACbrD,OAAQ,SAEVsH,EAAOrE,OAAOuE,mBAAqB,CACjCrE,MH5JiB,MG6JjBC,cAAe,SACftD,SAAU,OACVuD,YAAa,YACbrD,OAAQ,QACRuD,UAAW,IACXD,MAAO,IAGT,IAAMmE,EAAUnB,IAAOC,UAAUe,GACjCG,EAAQxE,OAAOsE,kBAAkBhE,UAAY,IAC7CkE,EAAQxE,OAAOsE,kBAAkBjE,MAAQ,GACzCmE,EAAQxE,OAAOoE,kBAAkBnF,QAAU,EAE3C,IAAMwF,EAAUpB,IAAOC,UAAUkB,GACjCC,EAAQzE,OAAO0E,kBAAoB,CACjCxE,MH1KoB,SG2KpBC,cAAe,SACftD,SAAU,QACVuD,YAAa,WACbrD,OAAQ,OAIV,IAAM4H,EAAUtB,IAAOC,UAAUmB,GACjCE,EAAQ3E,OAAO4E,cAAgB,CAC7B1E,MHrLmB,QGsLnBC,cAAe,OACftD,SAAU,SACVuD,YAAa,SACbrD,OAAQ,OACRuD,UAAW,IACXD,MAAO,IAETsE,EAAQ3E,OAAO6E,eAAiB,CAC9B3E,MH9LmB,QG+LnBC,cAAe,QACftD,SAAU,QACVuD,YAAa,SACbrD,OAAQ,OACRuD,UAAW,IACXD,MAAO,IAETsE,EAAQ3E,OAAO8D,qBAAqB1D,YAAc,SAClDuE,EAAQ3E,OAAO8D,qBAAqBjH,SAAW,MAC/C8H,EAAQ3E,OAAOuE,mBAAmBnE,YAAc,SAGhD,IAAM0E,EAAUzB,IAAOC,UAAUqB,GACjCG,EAAQnG,WAAWwD,OAAO7E,MAAQ,GAClCwH,EAAQnG,WAAWwD,OAAOlD,QAAU,EACpCqD,EAAKwC,EAAQnG,WAAWwD,OAAQY,GAEhC+B,EAAQ9E,OAAO6E,eAAe5F,QAAU,EACxC6F,EAAQ9E,OAAO4E,cAAc3F,QAAU,EACvC6F,EAAQ9E,OAAO2D,kBAAkB1E,QAAU,EAC3C6F,EAAQ9E,OAAO0D,iBAAiBzE,QAAU,EAC1C6F,EAAQ9E,OAAO4E,cAAc3F,QAAU,EACvC6F,EAAQ9E,OAAOuE,mBAAmBtF,QAAU,EAC5C6F,EAAQ9E,OAAO8D,qBAAqB7E,QAAU,EAC9C6F,EAAQ9E,OAAO0E,kBAAkBzF,QAAU,EAC3C6F,EAAQ9E,OAAO+E,mBAAqB,CAClC7E,MHxNoB,SGyNpBC,cAAe,YACftD,SAAU,QACVuD,YAAa,SACbrD,OAAQ,QAIV,IAAMiI,GAAU3B,IAAOC,UAAUwB,GACjCE,GAAQrG,WAAWmD,MAAM7C,QAAU,EACnC+F,GAAQhF,OAAO6D,cAAc5E,QAAU,EACvC+F,GAAQhF,OAAOoE,kBAAkBnF,QAAU,EAC3C+F,GAAQhF,OAAOiF,gBAAkB,CAC/B/E,MHpOoB,SGqOpBC,cAAe,SACftD,SAAU,SACVuD,YAAa,SACbrD,OAAQ,OAIV,IAAMmI,GAAU7B,IAAOC,UAAU0B,IACjCE,GAAQvG,WAAWyD,MAAM9E,MAAQ,GACjC4H,GAAQvG,WAAWyD,MAAMnD,QAAU,EACnCiG,GAAQvG,WAAWiD,MAAM3C,QAAU,EACnCqD,EAAK4C,GAAQvG,WAAWyD,MAAOY,GAC/BkC,GAAQvG,WAAW0D,UAAU/E,MAAQ,GACrC4H,GAAQvG,WAAW0D,UAAUpD,QAAU,EACvCqD,EAAK4C,GAAQvG,WAAW0D,UAAWS,GAEnCoC,GAAQlF,OAAOiF,gBAAgBhG,QAAU,EACzCiG,GAAQlF,OAAOoE,kBAAkBnF,QAAU,EAC3CiG,GAAQlF,OAAO+E,mBAAmB9F,QAAU,EAC5CiG,GAAQlF,OAAO0E,kBAAkBzF,QAAU,EAC3CiG,GAAQlF,OAAOmF,eAAiB,CAC9BjF,MH3PoB,SG4PpBC,cAAe,SACftD,SAAU,OACVuD,YAAa,QACbrD,OAAQ,OAEVmI,GAAQlF,OAAOoF,iBAAmB,CAChClF,MHjQoB,SGkQpBC,cAAe,OACftD,SAAU,QACVuD,YAAa,YACbrD,OAAQ,QAGV,IAAMsI,GAAUhC,IAAOC,UAAU4B,IAEjCG,GAAQ1G,WAAWyD,MAAMnD,QAAU,EACnCoG,GAAQ1G,WAAWmD,MAAM7C,QAAU,EACnCoG,GAAQ1G,WAAW0D,UAAUpD,QAAU,EACvCoG,GAAQ1G,WAAWwD,OAAOlD,QAAU,EAEpCqD,EAAK+C,GAAQ1G,WAAWiD,MAAO,CAAErF,GAAI,GAAIC,GAAI,KAC7C8F,EAAK+C,GAAQ1G,WAAWoD,KAAM,CAAExF,GAAI,GAAIC,GAAI,KAC5C6I,GAAQrF,OAAOwD,aAAe,CAC5BtD,MAAOtC,EACPuC,cAAe,QACftD,SAAU,QACVuD,YAAa,OACbrD,OAAQ,QAGVuF,EAAK+C,GAAQ1G,WAAWkD,UAAW,CAAEtF,GAAI,GAAIC,GAAI,KACjD8F,EAAK+C,GAAQ1G,WAAWqD,OAAQ,CAAEzF,GAAI,GAAIC,GAAI,KAC9C6I,GAAQrF,OAAOiE,mBAAqB,CAClC/D,MAAOtC,EACPuC,cAAe,YACftD,SAAU,QACVuD,YAAa,SACbrD,OAAQ,QAGVuF,EAAK+C,GAAQ1G,WAAWuD,OAAQ,CAAE3F,GAAI,GAAIC,GAAI,KAC9C8F,EAAK+C,GAAQ1G,WAAWsD,SAAU,CAAE1F,GAAI,GAAIC,GAAI,KAChD6I,GAAQrF,OAAOsE,kBAAoB,CACjCpE,MAAOtC,EACPuC,cAAe,SACftD,SAAU,QACVuD,YAAa,WACbrD,OAAQ,QAGVsI,GAAQrF,OAAOoF,iBAAiBnG,QAAU,EAC1CoG,GAAQrF,OAAO6D,cAAc5E,QAAU,EACvCoG,GAAQrF,OAAO0E,kBAAkBzF,QAAU,EAC3CoG,GAAQrF,OAAOmF,eAAelG,QAAU,MAElCqG,eACJ,SAAAA,EAAY7K,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MAsBF0K,gBAAkB,SAAC9J,GACjB+J,QAAQC,kBAAaC,OAAWA,EAAhC,IAA+CjK,GAC/Cf,EAAKU,SAAS,CACZuK,WAAYlK,KA1BGf,EA8BnBkL,WAAa,WACXlL,EAAKU,SAAS,CACZyK,KAAK,KAhCUnL,EAoCnBoL,UAAY,WACVpL,EAAKU,SAAS,CACZyK,KAAK,KApCPnL,EAAKI,MAAQ,CACX6K,WAAY,GACZE,KAAK,EACLnH,UAAW6E,EACXxI,SAAS,GANML,sCAUnBM,kBAAA,WACE,IAAKH,KAAKC,MAAMC,QACd,IACEF,KAAKI,cAAgBC,EAAQ,KAAwBC,QACrDN,KAAKO,SAAS,CACZL,SAAS,IAEX,MAAOM,GACPC,QAAQC,MAAMF,OAwBpBG,OAAA,WAAS,IAAAuK,EAAAlL,KAAAmL,EAKHnL,KAAKC,MAHP+K,EAFKG,EAELH,IACAnH,EAHKsH,EAGLtH,UACAiH,EAJKK,EAILL,WAMMJ,EAAoB1K,KAApB0K,gBAER,GAAI1K,KAAKC,MAAMC,QAAS,CACtB,IAAME,EAAgBJ,KAAKI,cAC3B,OACEW,EAAAC,EAAAC,cAACmK,EAAA,EAAD,CAAQC,cAAeP,GACrB/J,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,WACb5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,0BACb5E,EAAAC,EAAAC,cAAA,WAASiF,IAAI,mBAAmBtF,GAAG,mBAAmB+E,UAAU,QAC9D5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,sBACf5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAWC,IAAW,aAAc,CAAE0F,OAAkD,IAA3CR,EAAWS,YAAY,gBAAyB,CAAEC,eAAgBR,KAClHjK,EAAAC,EAAAC,cAACwK,EAAA,EAAD,CAAe5K,QAASb,KAAK0K,gBAAiB9J,GAAG,+BAC/CG,EAAAC,EAAAC,cAAA,wBACAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,sPAA6OF,EAAAC,EAAAC,cAAA,8CAA7O,4DAA8UF,EAAAC,EAAAC,cAAA,oBAA9U,wIAEAF,EAAAC,EAAAC,cAAA,ujBAEAF,EAAAC,EAAAC,cAAA,28CACAF,EAAAC,EAAAC,cAAA,yNAGJF,EAAAC,EAAAC,cAACb,EAAD,CAAeS,QAAS,kBAAM6J,EAAgB,MAC5C3J,EAAAC,EAAAC,cAAA,YAEFF,EAAAC,EAAAC,cAACyK,EAAD,CAAY7H,UAAWA,EAAWiH,WAAYA,IAC9C/J,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,WACf5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,6BACHC,QAAS,WACP6J,EAAgB,8BAChBQ,EAAK3K,SAAS,CACZsD,UAAW6E,MAIf3H,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,sGAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,8BACHC,QAAS,WACP6J,EAAgB,+BAChBQ,EAAK3K,SAAS,CACZsD,UAAW0E,MAIfxH,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,uEAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,kCACHC,QAAS,WACP6J,EAAgB,mCAChBQ,EAAK3K,SAAS,CACZsD,UAAW+E,KAGf9H,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,gGAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,8BACHC,QAAS,WACP6J,EAAgB,+BAChBQ,EAAK3K,SAAS,CACZsD,UAAWkF,KAGfjI,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,4OAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,iCACHC,QAAS,WACP6J,EAAgB,kCAChBQ,EAAK3K,SAAS,CACZsD,UAAWqF,KAGfpI,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,oIAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,+BACHC,QAAS,WACP6J,EAAgB,gCAChBQ,EAAK3K,SAAS,CACZsD,UAAWsF,KAGfrI,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,2KAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAWwF,KAGfvI,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,yBAAoBF,EAAAC,EAAAC,cAAA,iFAA4EF,EAAAC,EAAAC,cAAA,wPAChGF,EAAAC,EAAAC,cAAA,OAAK2K,IAAK9G,qBAAW,kEAAmEa,UAAU,gCAClG5E,EAAAC,EAAAC,cAAA,2kBAAqkBF,EAAAC,EAAAC,cAAA,+DAI3kBF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAWyF,KAGfxI,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,waAINF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW2F,KAGf1I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,4BAAuBF,EAAAC,EAAAC,cAAA,OAAK2K,IAAK9G,qBAAW,sDAAuDa,UAAU,gCAAgC5E,EAAAC,EAAAC,cAAA,moBAA6nBF,EAAAC,EAAAC,cAAA,OAAK2K,IAAK9G,qBAAW,sDAAuDa,UAAU,iCAAiC5E,EAAAC,EAAAC,cAAA,2zBAIv4BF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW2F,KAGf1I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,sBAAiBF,EAAAC,EAAAC,cAAA,qfAA+eF,EAAAC,EAAAC,cAAA,uMAAiMF,EAAAC,EAAAC,cAAA,6OAIvsBF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW8F,KAGf7I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,oQAA8PF,EAAAC,EAAAC,cAAA,4BAAuBF,EAAAC,EAAAC,cAAA,4SAAsSF,EAAAC,EAAAC,cAAA,gZAA0YF,EAAAC,EAAAC,cAAA,+JAI38BF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW8F,KAGf7I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,OAAK2K,IAAK9G,qBAAW,kEAAmEa,UAAU,iCAClG5E,EAAAC,EAAAC,cAAA,+LAAyLF,EAAAC,EAAAC,cAAA,8nBAI/LF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW+F,KAGf9I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,uCACAF,EAAAC,EAAAC,cAAA,OAAK2K,IAAK9G,qBAAW,qEAAsEa,UAAU,iCACrG5E,EAAAC,EAAAC,cAAA,oPAA8OF,EAAAC,EAAAC,cAAA,kxBAIpPF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAW+F,KAGf9I,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,8WAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,sBACHC,QAAS,WACP6J,EAAgB,uBAChBQ,EAAK3K,SAAS,CACZsD,UAAWiG,KAGfhJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,qeAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWiG,KAGfhJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,sCAAiCF,EAAAC,EAAAC,cAAA,sTAAgTF,EAAAC,EAAAC,cAAA,geAIvVF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWoG,KAGfnJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,oGAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWsG,MAGfrJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,kDAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWsG,MAGfrJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,uZAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWsG,MAGfrJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,oBAAeF,EAAAC,EAAAC,cAAA,8IAAwIF,EAAAC,EAAAC,cAAA,yBAAoBF,EAAAC,EAAAC,cAAA,qnBAA+mBF,EAAAC,EAAAC,cAAA,4BAAuBF,EAAAC,EAAAC,cAAA,mUAIvzBF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWwG,MAGfvJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cAAf,mOAKJ5E,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWwG,MAGfvJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,cACb5E,EAAAC,EAAAC,cAAA,mBAAcF,EAAAC,EAAAC,cAAA,4eAAseF,EAAAC,EAAAC,cAAA,wBAAmBF,EAAAC,EAAAC,cAAA,gfAI7gBF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAWwG,MAGfvJ,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,aAAatB,MAAO,CAAEwH,aAAc,UACjD9K,EAAAC,EAAAC,cAAA,8CAAyCF,EAAAC,EAAAC,cAAA,uMAAiMF,EAAAC,EAAAC,cAAA,+IAAyIF,EAAAC,EAAAC,cAAA,0DAAoDF,EAAAC,EAAAC,cAAA,oDAA8CF,EAAAC,EAAAC,cAAA,4CAAsCF,EAAAC,EAAAC,cAAA,0CAIjgBF,EAAAC,EAAAC,cAAC0K,EAAD,CACE/K,GAAG,uBACHC,QAAS,WACP6J,EAAgB,wBAChBQ,EAAK3K,SAAS,CACZsD,UAAW2G,MAGf1J,OAAQd,KAAKiL,WAEblK,EAAAC,EAAAC,cAAA,WAAS0E,UAAU,cACjB5E,EAAAC,EAAAC,cAAA,OAAK0E,UAAU,aAAatB,MAAO,CAAEwH,aAAc,QAAS1J,QAAS,QAI3EpB,EAAAC,EAAAC,cAACb,EAAD,CAAeS,QAASb,KAAK+K,WAAYjK,OAAQd,KAAKiL,WAAtD,MAGFlK,EAAAC,EAAAC,cAAC6K,EAAA,EAAD,KACE/K,EAAAC,EAAAC,cAAC8K,EAAA,EAAD,CACEC,GAAG,cACHC,QAAQ,cAEVlL,EAAAC,EAAAC,cAACiL,EAAA,EAAD,CACEF,GAAG,WACHC,QAAQ,eAStB,OAAO,SAteS9K,IAAMC,WA0eXqJ,+CC7yBf0B,EAAAnG,EAAAoG,GAAAD,EAAAjI,EAAAkI,EAAA,4BAAAC,IAAAF,EAAAjI,EAAAkI,EAAA,uCAAAE,IAAAH,EAAAjI,EAAAkI,EAAA,gCAAAG,IAAA,IAAAC,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAG,EAAAR,EAAA,GAAAS,EAAAT,EAAAO,EAAAC,GAAAE,EAAAV,EAAA,KAAAW,EAAAX,EAAAO,EAAAG,GAAAV,EAAAjI,EAAAkI,EAAA,yBAAAU,EAAA9L,IAAAmL,EAAAjI,EAAAkI,EAAA,+BAAAS,EAAA,aAAAV,EAAAjI,EAAAkI,EAAA,6BAAAS,EAAA,WAAAV,EAAAjI,EAAAkI,EAAA,yBAAAS,EAAA,OAAAV,EAAAjI,EAAAkI,EAAA,4BAAAS,EAAA,UAAAV,EAAAjI,EAAAkI,EAAA,+BAAAS,EAAA,iBAAAE,EAAAZ,EAAA,KAAAa,EAAAb,EAAAO,EAAAK,GAAAZ,EAAAjI,EAAAkI,EAAA,iCAAAY,EAAAhM,IAAA,IAAAiM,EAAAd,EAAA,IAAAA,EAAAjI,EAAAkI,EAAA,8BAAAa,EAAA,IAYA,IAAMX,EAAqBnL,IAAM+L,cAAc,IAEzCX,EAAc,SAAA3M,GAAK,OACvB6M,EAAAzL,EAAAC,cAACqL,EAAmBa,SAApB,KACG,SAAAC,GACC,OACExN,EAAMgE,MACLwJ,EAAgBxN,EAAMyN,QAAUD,EAAgBxN,EAAMyN,OAAOzJ,MAEtDhE,EAAMe,QAAUf,EAAMsB,UAC5BtB,EAAMgE,KAAOhE,EAAMgE,KAAKA,KAAOwJ,EAAgBxN,EAAMyN,OAAOzJ,MAGvD6I,EAAAzL,EAAAC,cAAA,uCAaf,SAASoL,IACP,MAAM,IAAIiB,MACR,gVATJf,EAAYgB,UAAY,CACtB3J,KAAM4J,IAAUC,OAChBJ,MAAOG,IAAUE,OAAOC,WACxBhN,OAAQ6M,IAAUI,KAClB1M,SAAUsM,IAAUI,2BCnCtB,IAAsBC,EAKpBC,EAAOC,SALaF,EAKWxN,EAAQ,OALRwN,EAAEvN,SAAYuN,oGCMzCG,EAAmB,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SACpBC,EAAgBC,UAAOC,4BAA4BH,EAASI,UAClE,OAAOnN,IAAMF,cAAcsN,IAApBC,OAAAC,OAAA,CACLP,WACAC,iBACGA,EAAcO,QAIrBV,EAAiBT,UAAY,CAC3BW,SAAUV,IAAUmB,MAAM,CACxBL,SAAUd,IAAUE,OAAOC,aAC1BA,YAGUK,qKCUTY,oCAGJ,SAAAA,EAAYhP,GAAc,IAAAC,EAAA,OACxBA,EAAAuD,EAAArD,KAAAC,KAAMJ,IAANI,MAHF6O,SAAWhP,EAAKgP,SAASC,KAAdC,QAAAlP,KAITA,EAAKI,MAAQ,CACX+O,aAAa,GAHSnP,sCAO1BgP,SAAA,WAAW,IACDG,EAAgBhP,KAAKC,MAArB+O,YACRhP,KAAKO,SAAS,CACZyO,aAAcA,OAIlBrO,OAAA,WAAS,IAAAsO,EAIHjP,KAAKJ,MAFPsB,EAFK+N,EAEL/N,SACAgO,EAHKD,EAGLC,UAIAF,EACEhP,KAAKC,MADP+O,YAGIG,EAAWD,IAAcA,EAAU9J,SAAS,uBAAyB8J,EAAU9J,SAAS,uBAAyB8J,EAAU9J,SAAS,uBAE1I,OACEgK,EAAApO,EAAAC,cAAA,WACEmO,EAAApO,EAAAC,cAACoO,EAAArO,EAAD,CACEsO,MAAM,aACNC,KAAM,CACJ,CACEvK,KAAM,cACNiH,QAAS,2BAEX,CACEjH,KAAM,WACNiH,QAAS,4BAEX,CACEjH,KAAM,WACNiH,QAAS,gFAGbuD,eAAgB,CACdC,MAAOP,GAAaC,EAAW,YAAc,OAGjDC,EAAApO,EAAAC,cAAA,QAAMyO,KAAK,iHAAqHC,IAAI,eACpIP,EAAApO,EAAAC,cAAC2O,EAAA,EAAD,CACEC,OAAK,EACLC,MAAI,EACJC,QAAS/P,KAAK6O,SACdlJ,UAAU,qBAEVyJ,EAAApO,EAAAC,cAAC+O,EAAA,EAAD,CAAMhL,KAAK,UAEboK,EAAApO,EAAAC,cAAA,OAAK0E,UAAU,UACbyJ,EAAApO,EAAAC,cAACgP,EAAA,EAAD,CACEtK,UAAU,WACVuK,OAAQlB,EACRmB,KAAK,QACLC,SAAO,EACPC,UAAQ,EACRC,WAAS,EACTnB,SAAUA,GAEVC,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,IACH8D,KAAK,OACL7D,QAAQ,aAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,gBACH8D,KAAK,OACL7D,QAAQ,kCAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,aACH8D,KAAK,QACL7D,QAAQ,cAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,SACH8D,KAAK,cACL7D,QAAQ,aAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,UACH8D,KAAK,cACL7D,QAAQ,WAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,WACH8D,KAAK,YACL7D,QAAQ,gBAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,UACH8D,KAAK,OACL7D,QAAQ,oBAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,cACH8D,KAAK,QACL7D,QAAQ,eAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,YACH8D,KAAK,YACL7D,QAAQ,aAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,SACH8D,KAAK,oBACL7D,QAAQ,gBAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,WACH8D,KAAK,kBACL7D,QAAQ,cAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,YACH8D,KAAK,MACL7D,QAAQ,eAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,mBACH8D,KAAK,UACL7D,QAAQ,iBAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,UACH8D,KAAK,eACL7D,QAAQ,uBAEVmD,EAAApO,EAAAC,cAACgP,EAAA,EAAKM,KAAN,CACEC,GAAIC,OACJC,gBAAgB,SAChB1E,GAAG,WACH8D,KAAK,qBACL7D,QAAQ,kBAGX/K,QAhLUC,IAAMuF,gBAuLZkI,kGCpNTlP,EAAU,aAEV+L,cACJ,SAAAA,EAAY7L,GAAO,IAAAC,EAAA,OACjBA,EAAAC,EAAAC,KAAAC,KAAMJ,IAANI,MACKC,MAAQ,CACXC,SAAS,GAHML,sCAMnBM,kBAAA,WACE,IAAIH,KAAKC,MAAMC,QACb,IACEF,KAAKI,cAAgBC,EAAQ,KAAwBC,QACrDN,KAAKO,SAAS,CACZL,SAAS,IAEX,MAAOM,GACPC,QAAQC,MAAMF,OAKpBG,OAAA,WAAS,IAELC,EACEZ,KAAKJ,MADPgB,GAGIC,EAAUb,KAAKJ,MAAMiB,SAAWnB,EAChCoB,EAASd,KAAKJ,MAAMkB,QAAUpB,EAEpC,GAAIM,KAAKC,MAAMC,QAAS,CACtB,IAAME,EAAgBJ,KAAKI,cAC3B,OACEuQ,EAAA3P,EAAAC,cAACb,EAAD,CAAeS,QAAS,kBAAMA,EAAQD,IAAKE,OAAQ,kBAAMA,EAAOF,KAC9D+P,EAAA3P,EAAAC,cAAA,WAASiF,IAAKtF,EAAIA,GAAIA,EAAI+E,UAAU,QACjC3F,KAAKJ,MAAMsB,WAKpB,OACEyP,EAAA3P,EAAAC,cAAA,WAASiF,IAAKtF,EAAIA,GAAIA,EAAI+E,UAAU,QACjC3F,KAAKJ,MAAMsB,cAxCQC,IAAMC,WA8CnBqK,wCC/Cf,IAAAe,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAoE,EAAAzE,EAAA,KAAA0E,EAAA1E,EAAA,KAkBeL,IARA,SAAAmC,GAAA,IAAG/M,EAAH+M,EAAG/M,SAAH,OACbuL,EAAAzL,EAAAC,cAAC2P,EAAA,EAAD,CAASE,UAAQ,EAACzM,MAAO,CAAElC,QAAS,YAClCsK,EAAAzL,EAAAC,cAAC4P,EAAA,EAAD,KACG3P,uCCdP,IAAAsL,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAuE,EAAA5E,EAAA,KAAA0E,EAAA1E,EAAA,KAwBeJ,IAbQ,SAAAkC,GAAA,IAAGjC,EAAHiC,EAAGjC,GAAIC,EAAPgC,EAAOhC,QAAP,OACrBQ,EAAAzL,EAAAC,cAAC4P,EAAA,EAAD,CACEhB,OAAK,EACLW,GAAIC,OACJzE,GAAIA,EACJC,QAASA,EACT6D,KAAK,aACLkB,cAAc,OACdC,QAAQ,OACR5L,MAAM,2CCpBV,IAAAmH,EAAAL,EAAA,GAAAM,EAAAN,EAAAO,EAAAF,GAAAuE,EAAA5E,EAAA,KAAA0E,EAAA1E,EAAA,KAwBeD,IAbI,SAAA+B,GAAA,IAAGjC,EAAHiC,EAAGjC,GAAIC,EAAPgC,EAAOhC,QAAP,OACjBQ,EAAAzL,EAAAC,cAAC4P,EAAA,EAAD,CACEhB,OAAK,EACLW,GAAIC,OACJzE,GAAIA,EACJC,QAASA,EACT6D,KAAK,cACLkB,cAAc,QACdC,QAAQ,QACR5L,MAAM","file":"component---src-pages-graph-jsx-57a13d5ac56133757162.js","sourcesContent":["import React from 'react'\n\nconst emptyFn = () => {}\n\nclass StorySection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mounted: false\n    }\n  }\n  componentDidMount() {\n    if(!this.state.mounted) {\n      try {\n        this.ScrollTrigger = require(\"react-scroll-trigger\").default;\n        this.setState({\n          mounted: true\n        })\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  render() {\n\n    const {\n      id,\n    } = this.props\n\n    const onEnter = this.props.onEnter || emptyFn\n    const onExit = this.props.onExit || emptyFn\n\n    if (this.state.mounted) {\n      const ScrollTrigger = this.ScrollTrigger\n      return (\n        <ScrollTrigger onEnter={() => onEnter(id)} onExit={() => onExit(id)}>\n          {this.props.children}\n        </ScrollTrigger>\n      )\n    }\n    return null\n  }\n}\n\nexport default StorySection\n","// @flow\n\nexport const AvatarWidth = 100\nexport const AvatarHeight = 100\nexport const AvatarcircleR = 30\nexport const AvatarTitleHeight = 12\n\nexport const SvgWidth = 120\nexport const SvgHeight = 120\n\nexport const AvatarCenterD = (SvgWidth - AvatarWidth) / 2\n\nexport const trw = 30\nexport const trh = trw * Math.sqrt(3) / 2\n\n// export const scale = percent => `scale(${percent} ${percent})`\n\nexport const translateCenterString = (cx, cy, scalePercent) => {\n  const tx = (cx / scalePercent) - (AvatarWidth / 2)\n  const ty = (cy / scalePercent) - (AvatarHeight / 2)\n  return `translate(${tx}px, ${ty}px)`\n}\n\nexport const scaleString = (scalePercentX, scalePercentY) => `scale(${scalePercentX}, ${scalePercentY})`\n\nexport const scaleAvatar = (cx, cy, scalePercent) => `${scaleString(scalePercent, scalePercent)} ${translateCenterString(cx, cy, scalePercent)}`\n\nexport const drawBezier = (x1, y1, x2, y2, vertical, strength = 0.5) => {\n  if (vertical) {\n    return `M ${x1},${y1} C ${x1},${y1 + (y2 - y1) * strength}, ${x2},${y2 - (y2 - y1) * strength}, ${x2},${y2}`\n  }\n  return `M ${x1},${y1} C ${x1 + (x2 - x1) * strength},${y1}, ${x2 - (x2 - x1) * strength},${y2}, ${x2},${y2}`\n}\n\n/* eslint-disable complexity */\nexport const drawCharacterBezier = (char1, fromSide, char2, toSide, padding = 0, strength = 0.5) => {\n  // beginning\n  let x1 = 1\n  let y1 = 1\n  // end\n  let x2 = 1\n  let y2 = 1\n\n  // console.log(char.scale * (AvatarWidth / 2))\n  x1 = char1.cx\n  y1 = char1.cy\n  if (fromSide === 'left') {\n    x1 -= (char1.scale * AvatarcircleR)\n  } else if (fromSide === 'right') {\n    x1 += (char1.scale * AvatarcircleR)\n  } else if (fromSide === 'top') {\n    y1 -= (char1.scale * (AvatarcircleR + AvatarTitleHeight))\n  } else {\n    y1 += (char1.scale * AvatarcircleR)\n  }\n\n  x2 = char2.cx\n  y2 = char2.cy\n  if (toSide === 'left') {\n    x2 -= (char2.scale * AvatarcircleR) + padding\n  } else if (toSide === 'right') {\n    x2 += (char2.scale * AvatarcircleR) + padding\n  } else if (toSide === 'top') {\n    y2 -= (char2.scale * (AvatarcircleR + AvatarTitleHeight)) + padding\n  } else {\n    y2 += (char2.scale * AvatarcircleR) + padding\n  }\n\n\n  // Control points\n  let Cx1 = x1\n  let Cy1 = y1\n  let Cx2 = x2\n  let Cy2 = y2\n\n  if (fromSide === 'top') {\n    if (toSide === 'top') {\n      Cy1 = y1 - Math.abs(x2 - x1) * strength\n      Cy2 = y2 - Math.abs(x2 - x1) * strength\n    }\n    if (toSide === 'right') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cy1 = y1 - (y1 - y2) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 + (x1 - x2) * strength\n    }\n  }\n  if (fromSide === 'right') {\n    if (toSide === 'top') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'right') {\n      // horizontal convex\n      Cx1 = x1 + Math.abs(x2 - x1) * strength\n      Cx2 = x2 + Math.abs(x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n  }\n  if (fromSide === 'bottom') {\n    if (toSide === 'top') {\n      // vertical\n      Cy1 = y1 + (y2 - y1) * strength\n      Cy2 = y2 - (y2 - y1) * strength\n    }\n    if (toSide === 'right') {\n      Cy1 = y1 + (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cy1 = y1 + Math.abs(y1 - y2) * strength\n      Cy2 = y2 + Math.abs(y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cy1 = y1 - (y1 - y2) * strength\n      Cx2 = x2 - (x2 - x1) * strength\n    }\n  }\n\n  if (fromSide === 'left') {\n    if (toSide === 'top') {\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'right') {\n      // horizontal convex\n      Cx1 = x1 - (x1 - x2) * strength\n      Cx2 = x2 + (x1 - x2) * strength\n    }\n    if (toSide === 'bottom') {\n      // vertical\n      Cx1 = x1 + (x2 - x1) * strength\n      Cy2 = y2 + (y1 - y2) * strength\n    }\n    if (toSide === 'left') {\n      Cx1 = x1 - Math.abs(x1 - x2) * strength\n      Cx2 = x2 - Math.abs(x1 - x2) * strength\n    }\n  }\n\n  return `M ${x1},${y1} C ${Cx1},${Cy1}, ${Cx2},${Cy2}, ${x2},${y2}`\n}\n","// @flow\n\nimport React from 'react'\nimport { withPrefix } from 'gatsby-link'\nimport classNames from 'classnames'\nimport {\n  AvatarWidth,\n  AvatarHeight,\n  SvgWidth,\n  SvgHeight,\n  scaleAvatar,\n  drawCharacterBezier,\n} from './shared'\n\nexport const RED = 'red'\nexport const GREEN = 'green'\nexport const PURPLE = 'purple'\nexport const ORANGE = 'orange'\nexport const TEAL = '#00ddff'\nexport const PINK = 'pink'\nexport const SKYBLUE = 'skyblue'\n\nimport './StoryGraph.scss'\n\nconst ARROW_COLORS = [RED, GREEN, PURPLE]\nclass StoryGraph extends React.PureComponent {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mounted: false\n    }\n  }\n\n  componentDidMount() {\n    if(!this.state.mounted) {\n      try {\n        this.d3 = require(\"d3\");\n        this.setState({\n          mounted: true\n        })\n      } catch (e) {\n        console.error(e);\n      }\n    }\n\n    this.updateGraph()\n  }\n\n  componentDidUpdate() {\n    this.updateGraph()\n  }\n\n  updateGraph = () => {\n\n    if (this.state.mounted) {\n      const d3 = this.d3\n\n      const t = d3.transition().duration(1000).ease(d3.easeExpInOut)\n      // console.log(this.props.graphData.characters)\n      const data = this.props.graphData\n      const characters = d3.select('.storyGraph #characters')\n        .selectAll('g.character')\n        .data(d3.keys(data.characters) || [], d => d)\n\n      characters.transition(t)\n        .attr('opacity', d => data.characters[d].opacity)\n        .style('transform', d => scaleAvatar(data.characters[d].cx, data.characters[d].cy, data.characters[d].scale))\n\n      // Enter…\n      const character = characters.enter()\n        .append('g')\n        .attr('id', d => d)\n        .attr('class', 'character')\n\n      character.append('circle')\n        .attr('class', 'gender')\n        .attr('cx', AvatarWidth / 2)\n        .attr('cy', AvatarHeight / 2)\n        .attr('r', '30')\n        .attr('fill', (d) => {\n          if (data.characters[d].gender === 'male') {\n            return SKYBLUE\n          }\n          return PINK\n        })\n      character.append('circle')\n        .attr('class', 'circle')\n        .attr('cx', AvatarWidth / 2)\n        .attr('cy', AvatarHeight / 2)\n        .attr('r', '25')\n        .attr('fill', 'none')\n        .attr('stroke', 'black')\n        .attr('stroke-width', '.5')\n      character.append('g')\n      character.append('g')\n        .attr('clip-path', 'url(#circleMask)')\n        .append('image')\n        .attr('x', d => data.characters[d].imageX)\n        .attr('y', d => data.characters[d].imageY)\n        .attr('width', d => data.characters[d].imageWidth)\n        .attr('height', d => data.characters[d].imageHeight)\n        .attr('href', d => withPrefix(`avatars/${data.characters[d].id}.jpg`))\n\n      character.append('path')\n        .attr('id', 'avatarCircle')\n        .attr('fill', 'none')\n        .attr('d', `M ${AvatarWidth / 2 - 32}, ${AvatarHeight / 2} a 32,32 0 1,1 ${32 * 2},0`)\n      character.append('text')\n        .attr('text-anchor', 'middle')\n        .attr('class', 'avatar-title')\n        .append('textPath')\n        .attr('href', '#avatarCircle')\n        .attr('startOffset', '50%')\n        .text(d => data.characters[d].name)\n\n      // Exit…\n      characters.exit().remove()\n\n      const arrows = d3.select('.storyGraph #arrows')\n        .selectAll('path.arrow')\n        .data(d3.keys(data.arrows) || [], d => d)\n\n      arrows.transition(t)\n        .attr('d', (d) => {\n          let padding = 0\n          if (ARROW_COLORS.includes(data.arrows[d].color)) {\n            padding = 2\n          }\n          return drawCharacterBezier(data.characters[data.arrows[d].fromCharacter], data.arrows[d].fromSide, data.characters[data.arrows[d].toCharacter], data.arrows[d].toSide, padding)\n        })\n        .attr('stroke', d => data.arrows[d].color)\n        .attr('stroke-width', d => data.arrows[d].width || '1')\n        .attr('stroke-dasharray', d => data.arrows[d].dashArray || '')\n        .attr('opacity', d => data.arrows[d].opacity)\n        .attr('marker-end', d => `url(#arrow-${data.arrows[d].color})`)\n\n      arrows.enter()\n        .append('path')\n        .attr('id', d => d)\n        .attr('class', 'arrow')\n        .attr('fill', 'none')\n\n      arrows.exit().remove()\n    }\n  }\n\n  render() {\n    const {\n      className,\n    } = this.props\n\n    return (\n      <svg\n        className={classNames('storyGraph', className)}\n        xmlns=\"http://www.w3.org/2000/svg\"\n        xmlns-xlink=\"http://www.w3.org/1999/xlink\"\n        viewBox={`0 0 ${SvgWidth} ${SvgHeight}`}\n      >\n\n        <defs>\n          <clipPath id=\"circleMask\">\n            <circle cx=\"50\" cy=\"50\" r=\"25\" />\n          </clipPath>\n          {\n            // ORANGE and TEAL has no direction\n            ARROW_COLORS.map(color => (\n              <marker\n                key={color}\n                id={`arrow-${color}`}\n                markerWidth=\"4\"\n                markerHeight=\"3\"\n                refX=\"1\"\n                refY=\"1.5\"\n                orient=\"auto\"\n                markerUnits=\"strokeWidth\"\n              >\n                <path d=\"M0,0 L0,3 L4,1.5 z\" fill={color} />\n              </marker>\n            ))\n          }\n        </defs>\n\n        <g id=\"arrows\" />\n        <g id=\"characters\" />\n\n      </svg>\n    )\n  }\n}\n\nexport default StoryGraph\n","const graphData = {\n  characters: {\n    center: {\n      id: 'center',\n      name: 'center',\n      cx: 60,\n      cy: 60,\n      opacity: 0,\n      scale: 0.001,\n    },\n    queen: {\n      id: 'queen',\n      name: 'Királynő',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n    snowwhite: {\n      id: 'snowwhite',\n      name: 'Hófehérke',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 52.5,\n      cy: 67.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n    witch: {\n      id: 'witch',\n      name: 'Mostoha',\n      gender: 'female',\n      color: 'pink',\n      imageX: -4,\n      imageY: 20,\n      imageWidth: 120,\n      imageHeight: 120,\n      cx: 15,\n      cy: 15,\n      scale: 0.3,\n      opacity: 0,\n    },\n    king: {\n      id: 'king',\n      name: 'Király',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: -18,\n      imageY: 25,\n      imageWidth: 140,\n      imageHeight: 140,\n      cx: 60,\n      cy: 60,\n      scale: 0.75,\n      opacity: 1,\n    },\n    prince: {\n      id: 'prince',\n      name: 'Herceg',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 67.5,\n      cy: 52.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n    huntsman: {\n      id: 'huntsman',\n      name: 'Vadász',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 97.5,\n      cy: 82.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n    witch2: {\n      id: 'witch',\n      name: 'Mostoha',\n      gender: 'female',\n      color: 'pink',\n      imageX: -4,\n      imageY: 20,\n      imageWidth: 120,\n      imageHeight: 120,\n      cx: 15,\n      cy: 85,\n      scale: 0.3,\n      opacity: 0,\n    },\n    queen2: {\n      id: 'queen',\n      name: 'Királynő',\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n    king2: {\n      id: 'king',\n      name: 'Király',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: -18,\n      imageY: 25,\n      imageWidth: 140,\n      imageHeight: 140,\n      cx: 60,\n      cy: 60,\n      scale: 0.75,\n      opacity: 0,\n    },\n    huntsman2: {\n      id: 'huntsman',\n      name: 'Vadász',\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 97.5,\n      cy: 82.5,\n      scale: 0.3,\n      opacity: 0,\n    },\n  },\n  arrows: {},\n}\n\nexport default graphData\n","// @flow\n\nimport React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nconst graphData = {\n  characters: [\n    {\n      id: 'queen',\n      name: <FormattedMessage id=\"character.queen.title\" defaultMessage=\"Queen\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 22.5,\n      cy: 37.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n    {\n      id: 'snowwhite',\n      name: <FormattedMessage id=\"character.snowwhite.title\" defaultMessage=\"Snow White\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 52.5,\n      cy: 67.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n    {\n      id: 'witch',\n      name: <FormattedMessage id=\"character.stepmother.title\" defaultMessage=\"Stepmother\" tagName=\"tspan\" />,\n      gender: 'female',\n      color: 'pink',\n      imageX: -4,\n      imageY: 20,\n      imageWidth: 120,\n      imageHeight: 120,\n      cx: 82.5,\n      cy: 97.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n    {\n      id: 'king',\n      name: <FormattedMessage id=\"character.king.title\" defaultMessage=\"King\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 0,\n      imageY: 0,\n      imageWidth: 100,\n      imageHeight: 100,\n      cx: 37.5,\n      cy: 22.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n    {\n      id: 'prince',\n      name: <FormattedMessage id=\"character.prince.title\" defaultMessage=\"Prince\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 67.5,\n      cy: 52.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n    {\n      id: 'huntsman',\n      name: <FormattedMessage id=\"character.huntsman.title\" defaultMessage=\"Huntsman\" tagName=\"tspan\" />,\n      gender: 'male',\n      color: 'skyblue',\n      imageX: 25,\n      imageY: 10,\n      imageWidth: 50,\n      imageHeight: 100,\n      cx: 97.5,\n      cy: 82.5,\n      scale: 0.3,\n      opacity: 1,\n    },\n  ],\n}\n\nexport default graphData\n","// @flow\n\nimport React from 'react'\nimport { withPrefix } from 'gatsby-link'\nimport classNames from 'classnames'\nimport lodash from 'lodash'\nimport Layout from '../components/layout'\nimport ScrollSection from '../components/ScrollSection'\nimport StorySection from '../components/StorySection'\nimport Footer from '../components/Footer'\nimport PreviousButton from '../components/PreviousButton'\nimport NextButton from '../components/NextButton'\nimport {\n  StoryGraph,\n  RED,\n  GREEN,\n  PURPLE,\n  ORANGE,\n  TEAL,\n  PINK,\n  SKYBLUE,\n} from '../components/StoryGraph'\nimport scene1 from '../components/StoryGraph/scene1'\n\n// import RED from '../components/StoryGraph/StoryGraph'\n// import GREEN from '../components/StoryGraph/StoryGraph'\n// import PURPLE from '../components/StoryGraph/StoryGraph'\n// import ORANGE from '../components/StoryGraph/StoryGraph'\n// import TEAL from '../components/StoryGraph/StoryGraph'\nconst move = (char, coordinate) => {\n  char.cx = coordinate.cx\n  char.cy = coordinate.cy\n  return char\n}\n\nconst GridA = 15\nconst GridB = 35\nconst GridC = 48\nconst GridD = 72\nconst GridE = 85\nconst GridF = 105\n\nconst CooCenter = { cx: 60, cy: 60 }\nconst CooCenterTop = { cx: CooCenter.cx, cy: GridC }\nconst CooCenterBottom = { cx: CooCenter.cx, cy: GridD }\nconst CooTopLeftMale = { cx: GridB, cy: GridA }\nconst CooTopLeftFemale = { cx: GridA, cy: GridB }\n\nconst CooTopRightMale = { cx: GridE, cy: GridA }\nconst CooTopRightFemale = { cx: GridF, cy: GridB }\n\nconst CooBottomLeftMale = { cx: GridB, cy: GridF }\nconst CooBottomLeftFemale = { cx: GridA, cy: GridE }\n\nconst CooBottomRightMale = { cx: GridE, cy: GridF }\nconst CooBottomRightFemale = { cx: GridF, cy: GridE }\n\n\nconst scene2 = lodash.cloneDeep(scene1)\nscene2.characters.king.scale = 0.3\nmove(scene2.characters.king, CooTopLeftMale)\nscene2.characters.queen.opacity = 1\nscene2.characters.queen.scale = 0.75\nmove(scene2.characters.queen, CooCenter)\nscene2.arrows.queenAndKing = {\n  color: TEAL,\n  fromCharacter: 'king',\n  fromSide: 'left',\n  toCharacter: 'queen',\n  toSide: 'top',\n}\n\nconst scene3 = lodash.cloneDeep(scene2)\nscene3.characters.queen.scale = 0.3\nmove(scene3.characters.queen, CooTopLeftFemale)\nscene3.characters.snowwhite.opacity = 1\nscene3.characters.snowwhite.scale = 0.75\nmove(scene3.characters.snowwhite, CooCenter)\nscene3.arrows.kingAndSnowwhite = {\n  color: GREEN,\n  fromCharacter: 'king',\n  fromSide: 'bottom',\n  toCharacter: 'snowwhite',\n  toSide: 'left',\n  dashArray: '1',\n  width: 0.5,\n}\nscene3.arrows.queenAndSnowwhite = {\n  color: GREEN,\n  fromCharacter: 'queen',\n  fromSide: 'right',\n  toCharacter: 'snowwhite',\n  toSide: 'left',\n  dashArray: '1',\n  width: 0.5,\n}\n\nconst scene4 = lodash.cloneDeep(scene3)\nscene4.characters.queen.opacity = 0.2\nscene4.characters.snowwhite.scale = 0.3\nmove(scene4.characters.snowwhite, CooCenterBottom)\nscene4.characters.witch.opacity = 1\nscene4.characters.witch.scale = 0.75\nmove(scene4.characters.witch, { cx: 25, cy: 70 })\nscene4.arrows.queenAndWitch = {\n  color: ORANGE,\n  fromCharacter: 'queen',\n  fromSide: 'bottom',\n  toCharacter: 'witch',\n  toSide: 'top',\n}\nscene4.arrows.huntsmanAndSnowwhite = {\n  color: RED,\n  fromCharacter: 'huntsman',\n  fromSide: 'left',\n  toCharacter: 'snowwhite',\n  toSide: 'right',\n  dashArray: '1',\n  width: 0.5,\n}\n\nconst scene5 = lodash.cloneDeep(scene4)\nscene5.characters.witch.scale = 0.3\nmove(scene5.characters.witch, CooBottomLeftFemale)\nscene5.characters.huntsman.opacity = 1\nscene5.characters.huntsman.scale = 0.75\nmove(scene5.characters.huntsman, { cx: 95, cy: 75 })\n\nconst scene6 = lodash.cloneDeep(scene5)\nscene6.characters.huntsman.scale = 0.3\nmove(scene6.characters.huntsman, CooBottomRightMale)\nscene6.characters.prince.opacity = 1\nscene6.characters.prince.scale = 0.75\nmove(scene6.characters.prince, { cx: 95, cy: 35 })\nscene6.arrows.princeAndSnowwhite = {\n  color: TEAL,\n  fromCharacter: 'prince',\n  fromSide: 'bottom',\n  toCharacter: 'snowwhite',\n  toSide: 'top',\n}\n\nconst scene7 = lodash.cloneDeep(scene6)\nscene7.characters.prince.scale = 0.3\nmove(scene7.characters.prince, CooCenterTop)\n\nconst scene8 = lodash.cloneDeep(scene7)\nscene8.characters.witch2.scale = 0.3\nscene8.characters.witch2.opacity = 1\nscene8.characters.witch2.name = 'Ex-Hófehérke'\nmove(scene8.characters.witch2, CooBottomRightFemale)\nscene8.arrows.snowwhiteAndWitch = {\n  color: PURPLE,\n  fromCharacter: 'snowwhite',\n  fromSide: 'bottom',\n  toCharacter: 'witch2',\n  toSide: 'left',\n}\n\nconst scene9 = lodash.cloneDeep(scene8)\nscene9.characters.witch.opacity = 0\nscene9.arrows.queenAndWitch.opacity = 0\nscene9.arrows.witch2AndHuntsman = {\n  color: TEAL,\n  fromCharacter: 'witch2',\n  fromSide: 'bottom',\n  toCharacter: 'huntsman',\n  toSide: 'right',\n}\nscene9.arrows.witch2AndSnowwhite = {\n  color: RED,\n  fromCharacter: 'witch2',\n  fromSide: 'left',\n  toCharacter: 'snowwhite',\n  toSide: 'right',\n  dashArray: '1',\n  width: 0.5,\n}\n\nconst scene10 = lodash.cloneDeep(scene9)\nscene10.arrows.witch2AndHuntsman.dashArray = '1'\nscene10.arrows.witch2AndHuntsman.width = 0.5\nscene10.arrows.snowwhiteAndWitch.opacity = 0\n\nconst scene11 = lodash.cloneDeep(scene10)\nscene11.arrows.princeAndHuntsman = {\n  color: PURPLE,\n  fromCharacter: 'prince',\n  fromSide: 'right',\n  toCharacter: 'huntsman',\n  toSide: 'top',\n}\n\n// A látomás, vagy dezsavű?\nconst scene12 = lodash.cloneDeep(scene11)\nscene12.arrows.kingAndPrince = {\n  color: GREEN,\n  fromCharacter: 'king',\n  fromSide: 'bottom',\n  toCharacter: 'prince',\n  toSide: 'left',\n  dashArray: '1',\n  width: 0.5,\n}\nscene12.arrows.queenAndPrince = {\n  color: GREEN,\n  fromCharacter: 'queen',\n  fromSide: 'right',\n  toCharacter: 'prince',\n  toSide: 'left',\n  dashArray: '1',\n  width: 0.5,\n}\nscene12.arrows.huntsmanAndSnowwhite.toCharacter = 'center'\nscene12.arrows.huntsmanAndSnowwhite.fromSide = 'top'\nscene12.arrows.witch2AndSnowwhite.toCharacter = 'center'\n\n// Nem várt fordulat, mindenki a Hóferkéből alakult ki\nconst scene13 = lodash.cloneDeep(scene12)\nscene13.characters.queen2.scale = 0.3\nscene13.characters.queen2.opacity = 1\nmove(scene13.characters.queen2, CooTopRightFemale)\n\nscene13.arrows.queenAndPrince.opacity = 0\nscene13.arrows.kingAndPrince.opacity = 0\nscene13.arrows.queenAndSnowwhite.opacity = 0\nscene13.arrows.kingAndSnowwhite.opacity = 0\nscene13.arrows.kingAndPrince.opacity = 0\nscene13.arrows.witch2AndSnowwhite.opacity = 0\nscene13.arrows.huntsmanAndSnowwhite.opacity = 0\nscene13.arrows.princeAndHuntsman.opacity = 0\nscene13.arrows.snowwhiteAndQueen2 = {\n  color: PURPLE,\n  fromCharacter: 'snowwhite',\n  fromSide: 'right',\n  toCharacter: 'queen2',\n  toSide: 'left',\n}\n\n// De a banyáról is ezt mondtuk, ez hogy lehet?\nconst scene14 = lodash.cloneDeep(scene13)\nscene14.characters.witch.opacity = 1\nscene14.arrows.queenAndWitch.opacity = 1\nscene14.arrows.snowwhiteAndWitch.opacity = 1\nscene14.arrows.queen2AndWitch2 = {\n  color: ORANGE,\n  fromCharacter: 'queen2',\n  fromSide: 'bottom',\n  toCharacter: 'witch2',\n  toSide: 'top',\n}\n\n// Nos, itt belépünk a tudatalatti világába, elérkeztünk az archetípusokhoz\nconst scene15 = lodash.cloneDeep(scene14)\nscene15.characters.king2.scale = 0.3\nscene15.characters.king2.opacity = 1\nscene15.characters.queen.opacity = 1\nmove(scene15.characters.king2, CooBottomLeftMale)\nscene15.characters.huntsman2.scale = 0.3\nscene15.characters.huntsman2.opacity = 1\nmove(scene15.characters.huntsman2, CooTopRightMale)\n\nscene15.arrows.queen2AndWitch2.opacity = 0\nscene15.arrows.snowwhiteAndWitch.opacity = 0\nscene15.arrows.snowwhiteAndQueen2.opacity = 0\nscene15.arrows.princeAndHuntsman.opacity = 1\nscene15.arrows.princeAndKing2 = {\n  color: PURPLE,\n  fromCharacter: 'prince',\n  fromSide: 'left',\n  toCharacter: 'king2',\n  toSide: 'top',\n}\nscene15.arrows.kingAndHuntsman2 = {\n  color: ORANGE,\n  fromCharacter: 'king',\n  fromSide: 'right',\n  toCharacter: 'huntsman2',\n  toSide: 'left',\n}\n\nconst scene16 = lodash.cloneDeep(scene15)\n\nscene16.characters.king2.opacity = 0\nscene16.characters.witch.opacity = 0\nscene16.characters.huntsman2.opacity = 0\nscene16.characters.queen2.opacity = 0\n\nmove(scene16.characters.queen, { cx: 30, cy: 20 })\nmove(scene16.characters.king, { cx: 90, cy: 20 })\nscene16.arrows.queenAndKing = {\n  color: TEAL,\n  fromCharacter: 'queen',\n  fromSide: 'right',\n  toCharacter: 'king',\n  toSide: 'left',\n}\n\nmove(scene16.characters.snowwhite, { cx: 30, cy: 50 })\nmove(scene16.characters.prince, { cx: 90, cy: 50 })\nscene16.arrows.princeAndSnowwhite = {\n  color: TEAL,\n  fromCharacter: 'snowwhite',\n  fromSide: 'right',\n  toCharacter: 'prince',\n  toSide: 'left',\n}\n\nmove(scene16.characters.witch2, { cx: 30, cy: 80 })\nmove(scene16.characters.huntsman, { cx: 90, cy: 80 })\nscene16.arrows.witch2AndHuntsman = {\n  color: TEAL,\n  fromCharacter: 'witch2',\n  fromSide: 'right',\n  toCharacter: 'huntsman',\n  toSide: 'left',\n}\n\nscene16.arrows.kingAndHuntsman2.opacity = 0\nscene16.arrows.queenAndWitch.opacity = 0\nscene16.arrows.princeAndHuntsman.opacity = 0\nscene16.arrows.princeAndKing2.opacity = 0\n\nclass Graph extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inViewport: '',\n      end: false,\n      graphData: scene1,\n      mounted: false,\n    }\n  }\n\n  componentDidMount() {\n    if (!this.state.mounted) {\n      try {\n        this.ScrollTrigger = require(\"react-scroll-trigger\").default;\n        this.setState({\n          mounted: true,\n        })\n      } catch (e) {\n        console.error(e)\n      }\n    }\n  }\n\n  onEnterViewport = (id) => {\n    history.replaceState(undefined, undefined, `#${id}`)\n    this.setState({\n      inViewport: id,\n    })\n  }\n\n  onEnterEnd = () => {\n    this.setState({\n      end: true,\n    })\n  }\n\n  onExitEnd = () => {\n    this.setState({\n      end: false,\n    })\n  }\n\n  render() {\n    const {\n      end,\n      graphData,\n      inViewport,\n    } = this.state\n    // const {\n    //   inViewport,\n    //   onEnterViewport,\n    // } = this.props\n    const { onEnterViewport } = this\n\n    if (this.state.mounted) {\n      const ScrollTrigger = this.ScrollTrigger\n      return (\n        <Layout bodyclassName={inViewport}>\n          <div className=\"content\">\n            <div className=\"ui text container list\">\n              <section key=\"story.asWeKnowIt\" id=\"story.asWeKnowIt\" className=\"item\">\n                <div className=\"ui hidden divider\" />\n                <div className={classNames('scrollable', { fixed: inViewport.lastIndexOf('story.scene') !== -1 }, { 'scroll-below': end })}>\n                  <ScrollSection onEnter={this.onEnterViewport} id=\"story.storytelling.autopsie\">\n                    <h1>A grafikon</h1>\n                    <div>\n                      <p>A mese elemzése során a boncasztalra kívánom fektetni a hófehérkét, hogy minden rétegét alaposan megismerhessük. Ez az elemzés ennyiben egyedülálló lesz, ebben eltér minden más értelmezéstől. Hozzávalók: Hófehérke, boncasztal, szike, <s>vödör a vérnek, vödör a hányáshoz</s>. Az egyetlen probléma ezzel a megközelítéssel, hogy nem <i>in vivo</i> azaz nem természetes élőhelyén figyeljük meg a Hófehérkét, ahogy éjszaka szaladgál az erdőben, hanem kimerevítve, élettől mentesen.</p>\n\n                      <p>A mesét több, különböző szinten kívánom értelmezni. Az alábbi eleven grafikonon azt a gondolatmenetet szeretném felvázolni, ami elsőként pattant ki fejemből. Akkoriban nagyon érdekesnek találtam, most már látom, hogy sántít és ezer sebből vérzik, de mégis, ez volt a kapu, mely a hétköznapokból átvezetett engem a mesék varázslatos birodalmába, avagy, amin keresztül a mese szörnyei kiszabadultak ebbe a világba, attól függ merről nézzük. Valószínűleg zagyvának fog tűnni, ahogy most így visszanézve már nekem is az, de remélem később kicsit tisztázódik.</p>\n\n                      <p>Ahogy munkába menet a vonatot várom reggelente, a szemközti peronon összegyűlnek az iskolások. Kilence éve járok már ezen a vonalon, minden reggel látom őket. De volt egy lányka, aki igen nagy változáson ment keresztül. Kezdetben nagyon szolid volt, mind megjelenésében, mind öltözködésében. De - valószínűleg a környezet vélt elvárásainak megfelelően - egyre vagányabb külsőre váltott. Szép hosszú haját bedauerolta, majd rövidebbre, majd igen rövidre vágta, néhol felkopaszítva. Öltözéke is fekete bőrdzsekire váltott, melyen ezüstös szegecsek csillogtak. Kicsit sajnáltam, hiszen tucatjával hallani történeteket azokról a felnőtt nőkről, akik hasonlóan vagány megjelenésűek, de a kemény külső megtört, megkeseredett szívet rejt, a válások, és az élet egyéb kudarcait. Nem okszerűen jár a kettő együtt, de abban a pillanatban úgy véltem, hogy a lányka a szemem láttára alakult át Hófehérkéből gonosz mostohává. Ez megdöbbentett, hiszen eltűnt a határ a karakterek között. Teljesen nyilvánvalóvá vált, hogy ez nem egy egyedi átalakulás, hanem egy mindenkit érintő, általános (még ha nem is járunk mind szegecses bőrdzsekiben). Minden kislány Hófehérke volt. Minden nő volt kislány, tehát Hófehérke is. Kortól, megjelenéstől, bőrdzsekitől teljesen függetlenül. A púpos, a lapos, a szőrös, a külleme miatt a társadalom peremére vetett gnóm is ugyanolyan joggal érezte gyermekkorában, hogy ez a mese róla szól, hogy ő a főszereplője, a Hófehérke, aki a legszebb a világon.</p>\n                      <p>Halvány emlékeim a meséről új értelmezést nyertek, mivel a mesében lévő férfi karakterek is megelevenedtek, és innentől egy olyan világban jártam, ahol mindenki ennek a mesének volt valamely szereplője.</p>\n                    </div>\n                  </ScrollSection>\n                  <ScrollTrigger onEnter={() => onEnterViewport('')}>\n                    <br />\n                  </ScrollTrigger>\n                  <StoryGraph graphData={graphData} inViewport={inViewport} />\n                  <div className=\"spacer\" />\n                  <StorySection\n                    id=\"story.scene.beginning.king\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.king')\n                      this.setState({\n                        graphData: scene1,\n                      })\n                    }}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        Egyszer volt, holnem volt, volt egyszer egy király... [a babakék keret a férfi karaktert jelöli]\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.beginning.queen\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.queen')\n                      this.setState({\n                        graphData: scene2,\n                      })\n                    }}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      ...és egy  királyné... [pink keretben a női karakterek láthatóak]\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.beginning.snowwhite\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.snowwhite')\n                      this.setState({\n                        graphData: scene3,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      ...És született egy gyermekük, Hófehérke. [A kék összekötő vonal az összetartozást jelöli]\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.beginning.witch\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.witch')\n                      this.setState({\n                        graphData: scene4,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      A királyné meghalt, helyét a gonosz mostoha vette át. Ez a nő pont az ellentéte volt a királynőnek, ezért nemigen szeretjük. [a zöld szaggatott vonal a lérehozást, a piros az elpusztítást jelzi, a narancssárga pedig az ellentétet]\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.beginning.huntsman\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.huntsman')\n                      this.setState({\n                        graphData: scene5,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      A gonosz mostoha felbérli a vadászt, hogy ölje meg Hófehérkét. A vadász kivételt tesz, megszegve ezzel munkaköri kötelességét.\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.beginning.prince\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.beginning.prince')\n                      this.setState({\n                        graphData: scene6,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Hófehérke elmenekül, jön a törpés jelenet, aztán meg a herceg. A herceg kiszabadítja Hófehérkét a gonosz törpék közül, és frigyre kelnek. Ennyit a meséről dióhéjban.\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel1\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel1')\n                      this.setState({\n                        graphData: scene7,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A folytatás</h3><h4>Bárminemű hasonlóság valóságos személyekkel csak a véletlen műve...</h4><p>A mese elemzése során olykor végletesen eltávolodunk az eredeti történettől, majd onnan visszatekintve szemlélhetjük a történetet egy új nézőpontból. Ebben a grafikonos részben humorosnak szánt stílusban első gondolataimat vetettem le.</p>\n                        <img src={withPrefix('images/snowwhite/problems/14030ffbdff1b5a0761ba0b1c5af82d5.jpg')} className=\"ui small left floated image\" />\n                        <p>Nos, a mese véget ért, de egy másik elkezdődött. Hófehérke hosszú éveken át élt a herceg (a férje) mellett, főzött, mosott, takarított, és ezért cserébe... nem sok mindent kapott. Már nem szólították hófehérkének, noha királynő volt, meg egyben feleség, a jegyző “Karsainé Horváth Gizella” nevet jegyezte be a házassági anyakönyvbe, ahogy az lenni szokott. A hosszú évek alatt elveszítette bőre hófehér jellegét, plusz az utazások egzotikus országokba, meg az a rengeteg nikotin a cigiből... A tündérmese lassan-lassan szociodrámává alakult. És egy nap jött az igazi trauma:</p><p>egy másik királyságban megszületett “Hófehérke”</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel2\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel2')\n                      this.setState({\n                        graphData: scene8,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <p>Az elemzés egy kritikus törésponthoz jutott. Mostantól nem egy de több mese vázlatát látjuk egyazon ábrán. Az Ex-Hófehérke kisodródik az eredeti mese fókuszából, és másik karakterként, u.n. Mostohaként tűnik fel újból. És a kör bezárul. És hogy mit történik ezután a mostohával – úgy értem ex-hófehérkével? Ugyanaz amit a mesében már hallottunk. De hogyan történhetett ez? [a lila vonal az átalakulást jelzi]</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel3\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel3')\n                      this.setState({\n                        graphData: scene9,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A kör, A tükör</h3><img src={withPrefix('images/mirror/4588eeda48a4fb1310f23aca6cec6696.jpg')} className=\"ui small left floated image\" /><p>A tükör, amely az előző tulajdonosát oly hűségesen szolgálta – és oly kegyetletlen dolgokra vette rá – Karsainé tulajdonában maradt, mivel apja élettársi viszonyban élt a banyával – mármint az ex-... mindegy. Egyszóval Hófehérke megörökölte a tükröt a gonosz mostohától. A tükör, amely a banyát őrületbe kergette, a fürdőszobában kapott helyet, sok örömet szerezve Hófehérkének. Legalábbis eleinte. Amikor a másik Hófehérke megszületett, a tükör detektálta a változást - mivel erre programozták, s mondta az igazat. Az egyetlen tökéletes Hófehérke illúziója ezzel végleg megszűnt létezni, kiderült, hogy csak mese volt az egész...</p><img src={withPrefix('images/mirror/e2821a1da5469f09320aadcbd3c73e06.jpg')} className=\"ui small right floated image\" /><p>Senkinek nem esik jól, ha kiesik a kényelmes központi szerepből, hogy ő a világ közepe, a történet főhőse, a szeretett, a megbecsült, a jó karakter, akire csak csodálatos dolgok várhatnak. De megesik, és ha így adódik az fájó. A reakció általános: Csalódottság, féltékenység, düh, egyfajta gonoszság. És már kész is a banya. Hát még ha a tükör – a külvilágból érkező folyamatos megítélés is megerősíti... ördögi kör. A csapdába rekedt “gonosz királynő” úgy ítéli meg, hogy az “új jövevény” a bajok forrása, hisz amíg az nem volt, minden rendben volt. Úgy próbálja feloldani a konfliktust, hogy elpusztítaná azt a lényt, aki mit sem sejt arról, hogy ő bárkit bármiben akadályozna... Tudatán kívül egykori önmagát pusztítja el ezzel, ezáltal is egyre jobban eltávolodva a “Hófehérkétől” és közeledve a “banyához”.</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel4\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel4')\n                      this.setState({\n                        graphData: scene9,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A vadász</h3><p>A vadászról nem sokat mond a mese. Egyetlen feladata, hogy a “Gonosz királyné” parancsára ölje meg hófehérkét és hozza el annak tüdejét és máját bizonyítékul. A legtöbb magyar meseváltozatban kivágott szív szerepel, így én is ezt tekintem alapfeltevésnek. Nos belső szervekről nehéz bárkit is azonosítani, így ez is szimbólikus, a kulcs pedig a szív: “törje össze a szívét”. Vegye el szépsége forrását, a naív, romlatlan szeretetet, lelke belső fényét, amely a szépségének valódi forrása.</p><p>Hogyan törje össze a szívét? Éjjel vigye ki az erdőbe, és ott... vegye elő a fegyverét, és döfje le, avagy célozzon és lőjön. Aztán vegye el a szívét, és tegye a gonosz elé bizonyítékul.</p><p>A vadász tehát nem afféle vadgazdálkodó szerepben jelenik meg, hanem inkább olyanban aki másra vadászik, úgy is mondhatnánk, p!#@vadász, hogyha nagyon egyértelműen be akarjuk sorolni... Így mindjárt jobban összeáll a kép:</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel5\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel5')\n                      this.setState({\n                        graphData: scene10,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <p>Figyeljük meg, hogy kialakult 3 pár. Innen már nagyjából minden egyenesen következik majd. Középen a Hófehérke mese főszereplői, jobbra és balra másik 2 mese főszereplői. Balról fenn a “jó” karakterek, akik segítenek, jobbról lenn az ellenlábasok.</p><h3>Hárman párban?</h3><p>Jogosan lehetne mondani, hogy a mese nem így van, a király ott egyedül van a királyné halála okán, a vadász és a gonosz mostoha között pedig még csak élettársi kapcsolat sincs... Véleményem szerint a karakterek kibontása mégis erre az eredményre vezet, a szerepeket így lehet párosítani.</p><p>A vadász és a gonosz királyné kapcsolatára egyik legjobb bizonyíték, hogy a mese, mint egy jobb hollywoodi film, direkt nem tesz említést a köztük lévő kapcsolatról, hogy ne is sejtsük, ezáltal növelve a felismerés megdöbbentő erejét – ha eljön az ideje. Annyit tudni, hogy a gonosz tettben együttműködés kezdődik, de a vadász nem engedelmeskedik, ezért a gonosz királyné börtönbe zárja.</p><p>A feltételezés szerint a gonosz mostoha maga egykor Hófehérke volt. Akkor hát volt neki férje, a herceg, de férj nélkül érkezik a történetbe...</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel6\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel6')\n                      this.setState({\n                        graphData: scene10,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A válás</h3>\n                        <img src={withPrefix('images/snowwhite/problems/8752394c5dd922383cf9e39cfc52e67b.jpg')} className=\"ui medium left floated image\" />\n                        <p>Tiszta sor, Hófehérke és a herceg elváltak. Így még érthetőbb miért olyan gonosz a mostoha. Hogy ő akart-e válni, vagy a herceg, azt nem tudni. Mindkettőjüknek volt oka rá bőven.</p><p>A herceg nem volt egy egyszerű eset... Eleinte odaadó volt, a csillagokat is odaígérte, de végül maradt egy lakótelepi lakás. A hétvégéket eleinte együtt töltötték, majd a herceg szívesebben sörözött a barátaival, és néha sokáig elmaradt... Már nem volt aki dícsérje Hófehérke csodás jellemvonásait, melyeket mind jól ismerünk, mert amikor együtt vacsoráztak, a herceg csak bámult maga elé a tányérba, és ha Hófehérke kérdezte valamiről, a válasz általában az volt, “most szeretnék nyugodtan enni, ha nem probléma”. Aztán volt, hogy több pénzt vitt, mint amennyit hozott, iszákosság, szerencsejáték, további kimaradások...</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel7\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel7')\n                      this.setState({\n                        graphData: scene11,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A herceg transzformációja</h3>\n                        <img src={withPrefix('images/snowwhite/girlfriends/8fb991217a3562df7e0750a697eae6d5.jpg')} className=\"ui medium left floated image\" />\n                        <p>De Hófehérke sem volt egy egyszerű eset... Az csak természetes, hogy neki kellet lenni a középpontban, és a fő téma ezzel kellett hogy kapcsolatos legyen: ruhák, pipere, udvarhölgyek, csupa olyan téma ami a herceget hidegen hagyta.</p><p>Amikor a herceg a barátaival szeretett volna találkozni, Hófehérke nem repesett az örömtől, és ez a hercegben lelkifurdalást ébressztett. Bánatossá tette, hogy ő nem tudja úgy elszórakoztatni aráját, mint pl. a többi herceg a legutóbbi zenés estén, akik bezzeg felsorolták Hófehérke minden báját... Enyhe depresziójában, mikor egy keményen végigdolgozott nap után kedvese a vacsoránál kérdőre vonta, már azon merengett, hogy valóban ez-e az a Hófehérke, akit neki a mesében megírt módon feleségül kellett vennie. Mivel nem sikerült meggyőznie magát, és ebben Hófehérke sem volt segítségére, bánatában, hogy mekkora egy hülye, elvesztette a kontrollt életmódja felett, italba folytotta bánatát, Hófehérke mérhetetlen költekezését szerencsejátékból próbálta fedezni, és...</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel8\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel8')\n                      this.setState({\n                        graphData: scene11,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Amint az már majdnem nyilvánvaló volt, a herceg áttért – egyes források és rossz nyelvek szerint visszatért régi szokásához, és eleinte alkalomszerűen, majd mind gyakrabban vadászatra indult, mígnem ez az életmód rendszeressé vált, és végül úgy maradt. Így lett az egykor hercegből egy másik törénetben vadász. A nyíl jól szemlélteti a lezüllésének folyamatát.\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel9\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel9')\n                      this.setState({\n                        graphData: scene12,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Az ábra ezen a ponton korrekcióra szorul. A herceget is nyilván anya szülte, és apja is kellett, hogy legyen. Úgy vélem, hogy a mesében a támadás Hófehérke ellen szimbólikus, tágabb értelemben véve pedig nem pusztán ellene irányul, hanem a boldog szeretetkapcsolat ellen, amit a sötét karakterek sikeresen el is pusztítottak, és ezáltal vehették fel jelenlegi formájukat. A mostoha és a vadász kapcsolata a válás, hogy nincs kapcsolat, ami pedig van, az bár ne is lenne inkább...\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel10\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel10')\n                      this.setState({\n                        graphData: scene12,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A látomás, vagy dezsavű?</h3><p>A királynővel kezdődik a mese, de nem sokat tudunk meg róla. Szeretnivaló, szép, egyetlen hibája csak hogy meghal. De ez is csak szimbólum, suprise-suprise: a királynő nem hal meg! Feláldozza önmagát, szerepébe temetkezik, ezért a tetszhalott állapot. Egyetlen szerepe pedig: létrehozni Hófehérkét</p><p>A királynő elábrándozik, avagy később álmot lát. Megfogalmazódik benne leendő gyemeke több tulajdonága: Hajszín, bűrszín, ajkainak színe. Genetikailag azonban csak olyan tulajdonságok örökölhetőek, amelyet az egyén – valamilyen formában -  maga is birtokol. A királynő – feltehetően maga is rendelkezett a hófehérkére jellemző tulajdonságokkal, elképzelhető, hogy azokat sorolta el, melyeket maga is kedvelt – egykori önmagában, amikor még ! Ö is Hófehérke volt!!!</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel11\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel11')\n                      this.setState({\n                        graphData: scene13,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Nem várt fordulat, mindenki a Hóferkéből alakult ki, még a Hófehérke is a Hófehérkéből lett...\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel12\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel12')\n                      this.setState({\n                        graphData: scene14,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      De a banyáról is ezt mondtuk, ez hogy lehet?\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel13\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel13')\n                      this.setState({\n                        graphData: scene14,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Nos, itt belépünk a tudatalatti világába, elérkeztünk az archetípusokhoz, meg az ezotériához. A két ellentétes személyiség skizoid módon parallel evolvál, olykor transzlokálódik, vagy expressziója szuszpendálódik. (világos, nem?) [narancssárga vonal jelöli az alternatívákat, vagyis a követendő pozitív karaktereket, és azok ellenlábasait, más szóval sötét felebarátait, amolyan árnyékszemélyiségeket]\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel14\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel14')\n                      this.setState({\n                        graphData: scene14,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A szív</h3><p>Milyen volt a királynő? - Szivélyes. Milyen volt a mostoha? - Szívtelen. Mit akart tenni Hófehérkével? - Szívteleníttetni akarta.</p><h3>A szívtelen</h3><p>Miért volt szívtelen a mostoha? - Valószínűleg, mikor még ő is Hófehérke volt, a vadász őt is kicsalta az erdőbe, elővette fegyverét, és... ezt a szív bánta. Az is lehet, hogy további vadászok is megpróbálták megszerezni a szívét, mire már semmi sem maradt... Sőt, lehet, hogy arra a következretésre jutott, hogy ez így normális, és végül maga csalta ki a vadászokat az erdőbe. De ez nem tette boldoggá. A szépségért sok mindenre képes egy nő, még sebészeti beavatkozásokra is, nos, ő szívleszívást csináltatott magán, remélve, hogy sikeresebb lesz a férfiaknál, és valóban, a mese nem említi hogy csúf lett volna...</p><h3>Az öreg király</h3><p>A király még kimaradt, szerepvállalása, jellemzői megkérdőjelezhetőek. Hófehérke szerető apjaként, a királyné özvegyeként szeretnivaló, de amikor összeáll a gonosz mostohával, és hagyja, hogy  az Hófehérke ellen keljen, szánalmas áldozattá, tutyimutyi papucsférjjé válik. Ki ő valójában és honnan származik?</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel15\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel15')\n                      this.setState({\n                        graphData: scene15,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                      Ahogy az már várható volt, a maszkulin perszonák a  feminimekhez hasonlóan divergálnak. A vertikális a maszkulin, a horizontális direkció a feminim transzformációkat prezentálja. (Kérem, ez egy komoly, tudományos cikk...)\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel16\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel16')\n                      this.setState({\n                        graphData: scene15,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\">\n                        <h3>A hűs</h3><p>A király - az egykori herceg - egy példamutató karakter a szeretet megvalósításában. Ő nem vált el, mint a vadász, nem lett hős, hanem maradt hűs, hűséges. Jegelte vágyait, fékezte érzelmeit. (A mese télen kezdődik). Volt mit fékeznie, végig kellett néznie, ahogyan Hófehérke átalakul, feleségül vette a szeretett nőt, és azon találja magát, hogy a gonosz mostohával él. Mit tehet egy férfi egy szívtelen nő társaként? El kell érnie, hogy újból legyen szíve... szeretnie kellett.</p><h3>A szeretet</h3><p>Hogy tudta szeretni azt a gonosz banyát? A szeretet tisztán lát, nem dől be a felszínes jellemeknek, nem a pillanatnyi szereposztás alapján ítél, hogy éppen kinek mi jutott. A király karakter példát mutat türelmével, hogy akkor is szerepében marad, és fenntartja a szeretetét amikor körülötte minden összeomlik. Bánatos a viszontagságok miatt, de nem zavarja el a gonosz mostohát, majd csak akkor, mikor Hófehérke visszatért, célt ért tehát, a nélkül, hogy maga is gonosszá válna.</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel17\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel17')\n                      this.setState({\n                        graphData: scene15,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\" style={{ marginBottom: '100vh' }}>\n                        <h3>Gonosz mostoha – Öreg király pár</h3><p>Az ábra egyik sarkába az “özvegyen maradt” király új kapcsolata került. Nehezen lehetne jó kapcsolatnak nevezni, de a történet határozott említést tesz a pár tagjainak összetartozásáról.</p><p>Amint a mostoha megjelenik, beköszönt a konfliktusos rész, a sötét időszak semmilyen szempontból nem termékeny. A királyné halott.</p><p>A király jelenléte irreleváns, sakkba szorul.</p><p>Hófehérke száműzve, a herceg még sehol.</p><p>A vadász pedig börönbe zárva...</p><p>De erre majd visszatérünk.</p>\n                      </div>\n                    </section>\n                  </StorySection>\n                  <StorySection\n                    id=\"story.scene.sequel18\"\n                    onEnter={() => {\n                      onEnterViewport('story.scene.sequel18')\n                      this.setState({\n                        graphData: scene16,\n                      })\n                    }}\n                    onExit={this.onExitEnd}\n                  >\n                    <section className=\"story item\">\n                      <div className=\"story-desc\" style={{ marginBottom: '100vh', padding: 0 }} />\n                    </section>\n                  </StorySection>\n                </div>\n                <ScrollTrigger onEnter={this.onEnterEnd} onExit={this.onExitEnd}>&nbsp;</ScrollTrigger>\n              </section>\n\n              <Footer>\n                <PreviousButton\n                  to=\"/hofejirke/\"\n                  content=\"Hófejírke\"\n                />\n                <NextButton\n                  to=\"/textil/\"\n                  content=\"Textil\"\n                />\n              </Footer>\n            </div>\n          </div>\n\n        </Layout>\n      )\n    }\n    return null\n  }\n}\n\nexport default Graph\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","// @flow\n\nimport React from 'react'\nimport type { Node } from 'react'\nimport { Link } from 'gatsby'\n\n// $FlowIgnore\nimport {\n  Button,\n  List,\n  Icon,\n} from 'semantic-ui-react'\n// $FlowIgnore\nimport Helmet from 'react-helmet'\n\n// $FlowIgnore\nimport 'sanitize.css/sanitize.css'\n// $FlowIgnore\nimport 'semantic-ui-css/semantic.min.css'\n\n// $FlowIgnore\nimport './layout.scss'\n\ntype Props = {\n  children: Node,\n  bodyClass: string,\n}\ntype State = {\n  menuVisible: boolean,\n}\n\nclass Layout extends React.PureComponent<Props, State> {\n  showMenu = this.showMenu.bind(this)\n\n  constructor(props: Props) {\n    super(props)\n    this.state = {\n      menuVisible: true,\n    }\n  }\n\n  showMenu() {\n    const { menuVisible } = this.state\n    this.setState({\n      menuVisible: !menuVisible,\n    })\n  }\n\n  render() {\n    const {\n      children,\n      bodyClass,\n    } = this.props\n\n    const {\n      menuVisible,\n    } = this.state\n\n    const inverted = bodyClass && (bodyClass.includes('story.textil.fates') || bodyClass.includes('symbol.color.white') || bodyClass.includes('story.bluebarb.key'))\n\n    return (\n      <div>\n        <Helmet\n          title=\"Snow White\"\n          meta={[\n            {\n              name: 'description',\n              content: 'Hófehérke mese elemzése',\n            },\n            {\n              name: 'keywords',\n              content: 'Hófehérke, mese, elemzés',\n            },\n            {\n              name: 'og:image',\n              content: '/snow-white/images/snowwhite/heartless/24020e0d4a4d1f87b9c0cda731c19251.jpg',\n            },\n          ]}\n          bodyAttributes={{\n            class: bodyClass + (inverted ? ' inverted' : ''),\n          }}\n        />\n        <link href=\"https://fonts.googleapis.com/css?family=Cinzel+Decorative|Fondamento|Pirata+One|Snowburst+One&amp;subset=latin-ext\" rel=\"stylesheet\" />\n        <Button\n          basic\n          icon\n          onClick={this.showMenu}\n          className=\"mainMenu__toggler\"\n        >\n          <Icon name=\"bars\" />\n        </Button>\n        <div className=\"layout\">\n          <List\n            className=\"mainMenu\"\n            hidden={menuVisible}\n            size=\"large\"\n            relaxed\n            animated\n            selection\n            inverted={inverted}\n          >\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/\"\n              icon=\"home\"\n              content=\"Bevezető\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/storytelling\"\n              icon=\"book\"\n              content=\"Egyszer volt, hol nem volt...\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/hofejirke\"\n              icon=\"apple\"\n              content=\"Hófejírke\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/graph\"\n              icon=\"code branch\"\n              content=\"Grafikon\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/textil\"\n              icon=\"chess board\"\n              content=\"Textil\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/symbols\"\n              icon=\"heartbeat\"\n              content=\"Szimbólumok\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/colors\"\n              icon=\"tint\"\n              content=\"Szín-szimbolika\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/characters\"\n              icon=\"users\"\n              content=\"Karakterek\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/terminal\"\n              icon=\"microchip\"\n              content=\"Terminal\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/holle\"\n              icon=\"snowflake outline\"\n              content=\"Holle annyó\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/theseus\"\n              icon=\"compass outline\"\n              content=\"Thészeusz\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/bluebarb\"\n              icon=\"key\"\n              content=\"Kékszakáll\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/transformations\"\n              icon=\"recycle\"\n              content=\"Átalakulások\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/cosmic\"\n              icon=\"star outline\"\n              content=\"Kozmikus Hófehérhe\"\n            />\n            <List.Item\n              as={Link}\n              activeClassName=\"active\"\n              to=\"/summary\"\n              icon=\"sort alphabet down\"\n              content=\"Összefoglaló\"\n            />\n          </List>\n          {children}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Layout\n","import React, { Children } from 'react'\n\nconst emptyFn = () => {}\n\nclass ScrollSection extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      mounted: false\n    }\n  }\n  componentDidMount() {\n    if(!this.state.mounted) {\n      try {\n        this.ScrollTrigger = require(\"react-scroll-trigger\").default;\n        this.setState({\n          mounted: true\n        })\n      } catch (e) {\n        console.error(e);\n      }\n    }\n  }\n\n  render() {\n    const {\n      id,\n    } = this.props\n\n    const onEnter = this.props.onEnter || emptyFn\n    const onExit = this.props.onExit || emptyFn\n\n    if (this.state.mounted) {\n      const ScrollTrigger = this.ScrollTrigger\n      return (\n        <ScrollTrigger onEnter={() => onEnter(id)} onExit={() => onExit(id)}>\n          <section key={id} id={id} className=\"item\">\n            {this.props.children}\n          </section>\n        </ScrollTrigger>\n      )\n    }\n    return (\n      <section key={id} id={id} className=\"item\">\n        {this.props.children}\n      </section>\n    )\n  }\n}\n\nexport default ScrollSection\n","\n// @flow\n\nimport React from 'react'\nimport type { Node } from 'react'\n\n// $FlowIgnore\nimport { Segment, Container } from 'semantic-ui-react'\n\ntype Props = {\n  children: Node,\n}\n\nconst Footer = ({ children }: Props) => (\n  <Segment vertical style={{ padding: '5em 0em' }}>\n    <Container>\n      {children}\n    </Container>\n  </Segment>\n)\n\nexport default Footer\n","// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport { Link } from 'gatsby'\n// $FlowIgnore\nimport { Button } from 'semantic-ui-react'\n\ntype Props = {\n  to: string,\n  content: string,\n}\n\nconst PreviousButton = ({ to, content }: Props) => (\n  <Button\n    basic\n    as={Link}\n    to={to}\n    content={content}\n    icon=\"left arrow\"\n    labelPosition=\"left\"\n    floated=\"left\"\n    color=\"red\"\n  />\n)\n\nexport default PreviousButton\n","// @flow\n\nimport React from 'react'\n// $FlowIgnore\nimport { Link } from 'gatsby'\n// $FlowIgnore\nimport { Button } from 'semantic-ui-react'\n\ntype Props = {\n  to: string,\n  content: string,\n}\n\nconst NextButton = ({ to, content }: Props) => (\n  <Button\n    basic\n    as={Link}\n    to={to}\n    content={content}\n    icon=\"right arrow\"\n    labelPosition=\"right\"\n    floated=\"right\"\n    color=\"red\"\n  />\n)\n\nexport default NextButton\n"],"sourceRoot":""}